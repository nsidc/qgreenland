#################
# Miscellaneous #
#################

- id: utm_zones
  title: Universal Transverse Mercator (UTM) Zones
  visible: False
  group_path: 'Miscellaneous'
  style: 'utm_zones'
  boundary: 'data'
  data_source: utm_zones.only
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'
  ogr2ogr_kwargs:
    where: '"\"ZONE\" != 0"'


- id: arctic_circle
  title: Arctic Circle (66° 34' North)
  description: >-
      The Arctic Circle is an imaginary line that circles the globe at
      approximately 66° 34' N and marks the latitude above which the sun does
      not set on the summer solstice, and does not rise on the winter solstice.
  visible: False
  group_path: 'Miscellaneous'
  data_source: arctic_circle.only
  ingest_task: local_vector
  file_type: '.gpkg'
  data_type: 'vector'
  ogr2ogr_kwargs:
    input_filename: 'arctic_circle.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 1


- &lat_lines
  id: lat_0_25_deg
  title: Latitude lines (0.25 degree)
  description: "Lines of latitude in 0.25-degree resolution."
  visible: False
  group_path: 'Miscellaneous/Latitude lines'
  style: 'latlon'
  data_source: latlon.lat_0_25_deg
  ingest_task: local_vector
  file_type: '.gpkg'
  data_type: 'vector'
  ogr2ogr_kwargs:
    input_filename: 'latitudes_0_25_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 1

- <<: *lat_lines
  id: lat_0_5_deg
  title: Latitude lines (0.5 degree)
  description: "Lines of latitude in 0.5-degree resolution."
  data_source: latlon.lat_0_5_deg
  ogr2ogr_kwargs:
    input_filename: 'latitudes_0_5_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 1

- <<: *lat_lines
  id: lat_1_deg
  title: Latitude lines (1 degree)
  description: "Lines of latitude in 1-degree resolution."
  data_source: latlon.lat_1_deg
  ogr2ogr_kwargs:
    input_filename: 'latitudes_1_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 1

- <<: *lat_lines
  id: lat_2_deg
  title: Latitude lines (2 degree)
  description: "Lines of latitude in 2-degree resolution."
  data_source: latlon.lat_2_deg
  ogr2ogr_kwargs:
    input_filename: 'latitudes_2_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 1

- <<: *lat_lines
  id: lat_5_deg
  title: Latitude lines (5 degree)
  description: "Lines of latitude in 5-degree resolution."
  data_source: latlon.lat_5_deg
  ogr2ogr_kwargs:
    input_filename: 'latitudes_5_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 1

- <<: *lat_lines
  id: lat_10_deg
  title: Latitude lines (10 degree)
  description: "Lines of latitude in 10-degree resolution."
  data_source: latlon.lat_10_deg
  ogr2ogr_kwargs:
    input_filename: 'latitudes_10_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 1

- <<: *lat_lines
  id: lat_15_deg
  title: Latitude lines (15 degree)
  description: "Lines of latitude in 15-degree resolution."
  data_source: latlon.lat_15_deg
  ogr2ogr_kwargs:
    input_filename: 'latitudes_15_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 1

- <<: *lat_lines
  id: lat_20_deg
  title: Latitude lines (20 degree)
  description: "Lines of latitude in 20-degree resolution."
  data_source: latlon.lat_20_deg
  ogr2ogr_kwargs:
    input_filename: 'latitudes_20_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 1

- <<: *lat_lines
  id: lat_30_deg
  title: Latitude lines (30 degree)
  description: "Lines of latitude in 30-degree resolution."
  data_source: latlon.lat_30_deg
  ogr2ogr_kwargs:
    input_filename: 'latitudes_30_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 1

- &lon_lines
  id: lon_0_5_deg
  title: Longitude lines (0.5 degree)
  description: "Lines of longitude in 0.5-degree resolution."
  visible: False
  group_path: 'Miscellaneous/Longitude lines'
  style: 'latlon'
  data_source: latlon.lon_0_5_deg
  ingest_task: local_vector
  file_type: '.gpkg'
  data_type: 'vector'
  ogr2ogr_kwargs:
    input_filename: 'longitudes_0_5_degree.geojson'
    s_srs: 'EPSG:4326'
    # The value "1000" resulted in straned points after subset, so we went
    # smaller. We think this is becuase the unit we segmentize is in the source
    # srs (degrees), not the dest srs (meters).
    segmentize: 100

- <<: *lon_lines
  id: lon_1_deg
  title: Longitude lines (1 degree)
  description: "Lines of longitude in 1-degree resolution."
  data_source: latlon.lon_1_deg
  ogr2ogr_kwargs:
    input_filename: 'longitudes_1_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 100

- <<: *lon_lines
  id: lon_2_deg
  title: Longitude lines (2 degree)
  description: "Lines of longitude in 2-degree resolution."
  data_source: latlon.lon_2_deg
  ogr2ogr_kwargs:
    input_filename: 'longitudes_2_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 100

- <<: *lon_lines
  id: lon_3_deg
  title: Longitude lines (3 degree)
  description: "Lines of longitude in 3-degree resolution."
  data_source: latlon.lon_3_deg
  ogr2ogr_kwargs:
    input_filename: 'longitudes_3_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 100

- <<: *lon_lines
  id: lon_5_deg
  title: Longitude lines (5 degree)
  description: "Lines of longitude in 5-degree resolution."
  data_source: latlon.lon_5_deg
  ogr2ogr_kwargs:
    input_filename: 'longitudes_5_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 100

- <<: *lon_lines
  id: lon_10_deg
  title: Longitude lines (10 degree)
  description: "Lines of longitude in 10-degree resolution."
  data_source: latlon.lon_10_deg
  ogr2ogr_kwargs:
    input_filename: 'longitudes_10_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 100

- <<: *lon_lines
  id: lon_15_deg
  title: Longitude lines (15 degree)
  description: "Lines of longitude in 15-degree resolution."
  data_source: latlon.lon_15_deg
  ogr2ogr_kwargs:
    input_filename: 'longitudes_15_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 100

- <<: *lon_lines
  id: lon_20_deg
  title: Longitude lines (20 degree)
  description: "Lines of longitude in 20-degree resolution."
  data_source: latlon.lon_20_deg
  ogr2ogr_kwargs:
    input_filename: 'longitudes_20_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 100

- <<: *lon_lines
  id: lon_30_deg
  title: Longitude lines (30 degree)
  description: "Lines of longitude in 30-degree resolution."
  data_source: latlon.lon_30_deg
  ogr2ogr_kwargs:
    input_filename: 'longitudes_30_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 100

- <<: *lon_lines
  id: lon_45_deg
  title: Longitude lines (45 degree)
  description: "Lines of longitude in 45-degree resolution."
  data_source: latlon.lon_45_deg
  ogr2ogr_kwargs:
    input_filename: 'longitudes_45_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 100

- <<: *lon_lines
  id: lon_90_deg
  title: Longitude lines (90 degree)
  description: "Lines of longitude in 90-degree resolution."
  data_source: latlon.lon_90_deg
  ogr2ogr_kwargs:
    input_filename: 'longitudes_90_degree.geojson'
    s_srs: 'EPSG:4326'
    segmentize: 100


- id: timezones
  title: 'Timezones'
  data_source: ne_timezones.only
  visible: False
  group_path: 'Miscellaneous'
  style: 'transparent_shape'
  boundary: 'background'
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'
  ogr2ogr_kwargs:
    OGR_ENABLE_PARTIAL_REPROJECTION: True

##############
# Atmosphere #
##############


- id: racmo_wind_vectors
  title: 'Annual mean wind vectors (5.5km)'
  description: >-
      Annual mean wind direction in meters per second from RACMO2.3p2 averaged
      for 1958-2018.
  visible: False
  group_path: 'Atmosphere/RACMO model output/5.5km'
  style: racmo_wind_vectors
  boundary: 'data'
  data_source: racmo_qgreenland_aug2020.only
  ingest_task: 'local_vector'
  file_type: '.gpkg'
  data_type: 'vector'
  # TODO: call out that this is a 'grid' of vector data?
  ogr2ogr_kwargs:
    input_filename: 'wind_vector_points.gpkg'

- id: racmo_wind_speed
  title: 'Annual mean wind speed (5.5km)'
  description: 'TBD'
  visible: False
  group_path: 'Atmosphere/RACMO model output/5.5km'
  style: null
  boundary: 'data'
  data_source: racmo_qgreenland_aug2020.only
  ingest_task: racmo
  file_type: '.tif'
  data_type: 'raster'
  unzip_kwargs:
    input_filename: 'RACMO_QGreenland_Aug2020.zip'
  translate_kwargs:
    extract_dataset: 'ff10m'
  overviews_kwargs:
    overview_levels: [2, 4, 8, 16]
    resampling_method: average
  gdal_edit_kwargs:
    a_srs: 'EPSG:3413'
  decompress_kwargs:
    extract_files:
      - 'RACMO_QGreenland_Aug2020/QGreenland/5.5km/ff10m.1958-2018.FGRN055_BN_RACMO2.3p2_FGRN055_EPSG3413.YYmean.nc'

- &racmo_1km
  id: racmo_precip
  title: 'Total Precipitation (1km)'
  description: >-
      Averaged for the period 1958 - 2018 covering the whole ice sheet and
      peripheral ice caps
  visible: False
  group_path: 'Atmosphere/RACMO model output/1km'
  style: null
  boundary: 'data'
  data_source: racmo_qgreenland_aug2020.only
  ingest_task: racmo
  file_type: '.tif'
  data_type: 'raster'
  translate_kwargs:
    extract_dataset: 'precip'
  overviews_kwargs:
    overview_levels: [2, 4, 8, 16]
    resampling_method: average
  gdal_edit_kwargs:
    a_srs: 'EPSG:3413'
  decompress_kwargs:
    extract_files:
      - 'precip.1958-2018.BN_RACMO2.3p2_FGRN055_1km.YYmean.nc'
  unzip_kwargs:
    input_filename: 'extracted_1km.zip'

- <<: *racmo_1km
  id: racmo_snowfall
  title: 'Snowfall (1km)'
  translate_kwargs:
    extract_dataset: 'snowfall'
  decompress_kwargs:
    extract_files:
      - 'snowfall.1958-2018.BN_RACMO2.3p2_FGRN055_1km.YYmean.nc'

- <<: *racmo_1km
  id: racmo_melt
  title: 'Snowmelt (1km)'
  translate_kwargs:
    extract_dataset: 'snowmelt'
  decompress_kwargs:
    extract_files:
      - 'snowmelt.1958-2018.BN_RACMO2.3p2_FGRN055_1km.YYmean.nc'

- <<: *racmo_1km
  id: racmo_runoff
  title: 'Runoff (1km)'
  translate_kwargs:
    extract_dataset: 'runoff'
  decompress_kwargs:
    extract_files:
      - 'runoff.1958-2018.BN_RACMO2.3p2_FGRN055_1km.YYmean.nc'

- <<: *racmo_1km
  id: racmo_subl
  title: 'Sublimation (1km)'
  translate_kwargs:
    extract_dataset: 'subl'
  decompress_kwargs:
    extract_files:
      - 'subl.1958-2018.BN_RACMO2.3p2_FGRN055_1km.YYmean.nc'

- <<: *racmo_1km
  id: racmo_sndiv
  # TODO: correct title
  title: 'Sndiv (Snow drift erosion?) (1km)'
  translate_kwargs:
    extract_dataset: 'sndiv'
  decompress_kwargs:
    extract_files:
      - 'sndiv.1958-2018.BN_RACMO2.3p2_FGRN055_1km.YYmean.nc'

- <<: *racmo_1km
  id: racmo_t2m
  # TODO: correct title
  title: 'Annual Mean Temperature at 2m (1km)'
  description: >-
      Annual Mean Temperature at 2m in degrees Kelvin.
  translate_kwargs:
    extract_dataset: 't2m'
  decompress_kwargs:
    extract_files:
      - 't2m.1958-2018.BN_RACMO2.3p2_FGRN055_1km.YYmean.nc'

- <<: *racmo_1km
  id: racmo_LAT
  title: 'LAT'
  group_path: 'Atmosphere/RACMO model output/masks'
  translate_kwargs:
    extract_dataset: 'LAT'
  gdal_edit_kwargs:
    a_srs: 'EPSG:3413'
    a_ullr: "-639456.0 -655096.0 856544.0 -3355096.0"
  decompress_kwargs:
    extract_files:
      - 'Icemask_Topo_Iceclasses_lon_lat_average_1km.nc'

- <<: *racmo_1km
  id: racmo_LON
  title: 'LON'
  group_path: 'Atmosphere/RACMO model output/masks'
  translate_kwargs:
    extract_dataset: 'LON'
  gdal_edit_kwargs:
    a_srs: 'EPSG:3413'
    a_ullr: "-639456.0 -655096.0 856544.0 -3355096.0"
  decompress_kwargs:
    extract_files:
      - 'Icemask_Topo_Iceclasses_lon_lat_average_1km.nc'

- <<: *racmo_1km
  id: racmo_icemask
  title: 'Icemask'
  group_path: 'Atmosphere/RACMO model output/masks'
  translate_kwargs:
    extract_dataset: 'Icemask'
  gdal_edit_kwargs:
    a_srs: 'EPSG:3413'
    a_ullr: "-639456.0 -655096.0 856544.0 -3355096.0"
  decompress_kwargs:
    extract_files:
      - 'Icemask_Topo_Iceclasses_lon_lat_average_1km.nc'

- <<: *racmo_1km
  id: racmo_gris
  title: 'GrIS'
  group_path: 'Atmosphere/RACMO model output/masks'
  translate_kwargs:
    extract_dataset: 'GrIS'
  gdal_edit_kwargs:
    a_srs: 'EPSG:3413'
    a_ullr: "-639456.0 -655096.0 856544.0 -3355096.0"
  decompress_kwargs:
    extract_files:
      - 'Icemask_Topo_Iceclasses_lon_lat_average_1km.nc'

- <<: *racmo_1km
  id: racmo_gic
  title: 'GIC'
  group_path: 'Atmosphere/RACMO model output/masks'
  translate_kwargs:
    extract_dataset: 'GIC'
  gdal_edit_kwargs:
    a_srs: 'EPSG:3413'
    a_ullr: "-639456.0 -655096.0 856544.0 -3355096.0"
  decompress_kwargs:
    extract_files:
      - 'Icemask_Topo_Iceclasses_lon_lat_average_1km.nc'

- <<: *racmo_1km
  id: racmo_promicemask
  title: 'Promicemask'
  group_path: 'Atmosphere/RACMO model output/masks'
  translate_kwargs:
    extract_dataset: 'Promicemask'
  gdal_edit_kwargs:
    a_srs: 'EPSG:3413'
    a_ullr: "-639456.0 -655096.0 856544.0 -3355096.0"
  decompress_kwargs:
    extract_files:
      - 'Icemask_Topo_Iceclasses_lon_lat_average_1km.nc'

- <<: *racmo_1km
  id: racmo_topography
  title: 'Topography'
  group_path: 'Atmosphere/RACMO model output/masks'
  translate_kwargs:
    extract_dataset: 'Topography'
  gdal_edit_kwargs:
    a_srs: 'EPSG:3413'
    a_ullr: "-639456.0 -655096.0 856544.0 -3355096.0"
  decompress_kwargs:
    extract_files:
      - 'Icemask_Topo_Iceclasses_lon_lat_average_1km.nc'

- <<: *racmo_1km
  id: racmo_grounded_ice
  title: 'Grounded Ice'
  group_path: 'Atmosphere/RACMO model output/masks'
  translate_kwargs:
    extract_dataset: 'grounded_ice'
  gdal_edit_kwargs:
    a_srs: 'EPSG:3413'
    a_ullr: "-639456.0 -655096.0 856544.0 -3355096.0"
  decompress_kwargs:
    extract_files:
      - 'Icemask_Topo_Iceclasses_lon_lat_average_1km.nc'

- <<: *racmo_1km
  id: racmo_easting
  title: 'Easting'
  group_path: 'Atmosphere/RACMO model output/masks'
  translate_kwargs:
    extract_dataset: 'Easting'
  gdal_edit_kwargs:
    a_srs: 'EPSG:3413'
    a_ullr: "-639456.0 -655096.0 856544.0 -3355096.0"
  decompress_kwargs:
    extract_files:
      - 'Icemask_Topo_Iceclasses_lon_lat_average_1km.nc'

- <<: *racmo_1km
  id: racmo_northing
  title: 'Northing'
  group_path: 'Atmosphere/RACMO model output/masks'
  translate_kwargs:
    extract_dataset: 'Northing'
  gdal_edit_kwargs:
    a_srs: 'EPSG:3413'
    a_ullr: "-639456.0 -655096.0 856544.0 -3355096.0"
  decompress_kwargs:
    extract_files:
      - 'Icemask_Topo_Iceclasses_lon_lat_average_1km.nc'


#####################
# Built environment #
#####################

  # # TODO: Better layer ID and title.
  # - id: populated_places_eva
  #   title: 'Populated Places (Eva)'
  #   data_source: nunat_aqqi.only
  #   visible: True
  #   group_path: 'Built environment'
  #   style: 'populated_places'
  #   boundary: 'data'
  #   ingest_task: ogr_remote_vector
  #   file_type: '.gpkg'
  #   data_type: 'vector'
  #   ogr2ogr_kwargs:
  #     # TODO: This is lame, stop it!
  #     input_filename: 'fetched.geojson'

- &hdx_hotosm
  id: hotosm_populated_places
  title: 'Populated Places'
  data_source: hdx_hotosm.populated_places
  visible: False
  group_path: 'Built environment/OpenStreetMap'
  style: hotosm_populated_places_point
  boundary: 'data'
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'

- <<: *hdx_hotosm
  id: hotosm_health_facilities
  title: 'Health Facilities'
  data_source: hdx_hotosm.health_facilities
  style: health_facility_point
- <<: *hdx_hotosm
  id: hotosm_airports
  title: 'Airports'
  data_source: hdx_hotosm.airports
  style: airport_point
- <<: *hdx_hotosm
  id: hotosm_seaports
  title: 'Seaports'
  data_source: hdx_hotosm.seaports
  style: seaport_point
- <<: *hdx_hotosm
  id: hotosm_waterways
  title: 'Waterways'
  data_source: hdx_hotosm.waterways
  style: null
- <<: *hdx_hotosm
  id: hotosm_financial_services
  title: 'Financial Services'
  data_source: hdx_hotosm.financial_services
  style: financial_facility_point
- <<: *hdx_hotosm
  id: hotosm_education_facilities
  title: 'Education Facilities'
  data_source: hdx_hotosm.education_facilities
  style: education_facility_point
- <<: *hdx_hotosm
  id: hotosm_points_of_interest
  title: 'Points of Interest'
  data_source: hdx_hotosm.points_of_interest
  style: null
- <<: *hdx_hotosm
  id: hotosm_roads
  title: 'Roads'
  visible: True
  data_source: hdx_hotosm.roads
  style: roads_line
- <<: *hdx_hotosm
  id: hotosm_buildings
  title: 'Buildings'
  data_source: hdx_hotosm.buildings
  style: buildings_shape

- id: nunagis_municipalities_population
  title: 'Municipalities and Population'
  data_source: nunagis.pop2019_municipalities
  visible: False
  group_path: 'Built environment'
  # TODO:
  style: null
  boundary: 'data'
  ingest_task: ogr_remote_vector
  file_type: '.gpkg'
  data_type: 'vector'
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'

# Administrative boundaries


###########
# Biology #
###########

- id: vegetation_biomass_2010
  title: 'Vegetation Biomass 2010 (1km)'
  description: >-
    Estimated above ground plant biomass for the tundra biome in kilograms per
    square meter. Based on trans-Arctic field data and AVHRR NDVI.
  visible: False
  group_path: 'Biology/Vegetation'
  style: 'vegetation_biomass'
  boundary: 'data'
  data_source: arctic_vegetation_biomass_2010.only
  ingest_task: arctic_vegetation
  file_type: '.tif'
  data_type: 'raster'


- &walrus_protected_areas
  id: nunagis_walrus_protected_areas
  title: 'Walrus Protected Areas'
  data_source: nunagis.protected_areas
  visible: False
  group_path: 'Biology/Mammals'
  style: nunagis_walrus_protected_areas
  boundary: 'data'
  ingest_task: ogr_remote_vector
  file_type: '.gpkg'
  data_type: 'vector'
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" LIKE ''Walrus%''"'

- <<: *walrus_protected_areas
  id: nunagis_goose_protected_areas
  title: 'Goose Protected Areas'
  group_path: 'Biology/Birds'
  style: nunagis_goose_protected_areas
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" IN (''Barnacle goose colony'', ''Goose moulting and breeding areas'')"'

- <<: *walrus_protected_areas
  id: nunagis_caribou_calving_areas
  title: 'Caribou Calving Areas'
  group_path: 'Biology/Mammals'
  style: protected_area_polygon
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" LIKE ''Caribou%''"'

- id: ginr_caribou_areas
  title: 'Caribou Areas'
  group_path: 'Biology/Mammals'
  data_source: ginr_caribou.only
  visible: False
  style: null
  boundary: 'data'
  ingest_task: local_zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'

- <<: *walrus_protected_areas
  id: nunagis_beluga_areas
  title: 'Beluga Areas'
  group_path: 'Biology/Mammals'
  style: protected_area_polygon
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" LIKE ''Beluga%''"'

- <<: *walrus_protected_areas
  id: nunagis_bird_protected_areas
  title: 'Bird Protected Areas'
  group_path: 'Biology/Birds'
  style: nunagis_bird_protected_areas
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" IN (''Bird Protection Area'', ''Important Bird Area of BirdLife International'')"'

- <<: *walrus_protected_areas
  id: nunagis_thickbilled_murre_colonies
  title: 'Thickbilled Murre Breeding Colony 5km Zones'
  group_path: 'Biology/Birds'
  style: protected_area_polygon
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" LIKE ''Colonies of breeding Brünnichs guillemots%''"'

- <<: *walrus_protected_areas
  id: nunagis_seabirds_colonies
  title: 'Seabird Breeding Colonies'
  group_path: 'Biology/Birds'
  style: protected_area_polygon
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" LIKE ''Colonies of breeding sea birds%''"'

- <<: *walrus_protected_areas
  id: nunagis_eider_protected_areas
  title: 'Eider Protected Areas'
  group_path: 'Biology/Birds'
  style: nunagis_eider_protected_areas
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" LIKE ''Eider%''"'

- <<: *walrus_protected_areas
  id: nunagis_murre_group_1km_zones
  title: 'Murre Group 1km Zones'
  group_path: 'Biology/Birds'
  style: protected_area_polygon
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" LIKE ''Murre%''"'

- <<: *walrus_protected_areas
  id: nunagis_musk_oxen_calving_areas
  title: 'Musk Oxen Calving Areas'
  group_path: 'Biology/Mammals'
  style: protected_area_polygon
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" LIKE ''Musk oxen%''"'

- id: ginr_muskoken
  title: 'Muskoxen Areas'
  group_path: 'Biology/Mammals'
  data_source: ginr_muskoxen.only
  visible: False
  style: null
  boundary: 'data'
  ingest_task: local_zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'

- <<: *walrus_protected_areas
  id: nunagis_narwhal_areas
  title: 'Narwhal Areas'
  group_path: 'Biology/Mammals'
  style: protected_area_polygon
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" LIKE ''Narwhal%''"'

- <<: *walrus_protected_areas
  id: nunagis_polar_bear_breeding_areas
  title: 'Polar Bear Breeding Areas'
  group_path: 'Biology/Mammals'
  style: protected_area_polygon
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" LIKE ''Polar bear%''"'

- id: caff_thickbilled_murre_colonies
  title: 'Thickbilled Murre Colonies'
  data_source: caff_murre_colonies.only
  visible: False
  group_path: 'Biology/Birds'
  boundary: 'data'
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'
  decompress_kwargs:
    extract_files:
      - 'Distribution_Thickbilled_Murre_Colonies.dbf'
      - 'Distribution_Thickbilled_Murre_Colonies.prj'
      - 'Distribution_Thickbilled_Murre_Colonies.qpj'
      - 'Distribution_Thickbilled_Murre_Colonies.shp'
      - 'Distribution_Thickbilled_Murre_Colonies.shx'

- id: caff_common_murre_colonies
  title: 'Common Murre Colonies'
  data_source: caff_murre_colonies.only
  visible: False
  group_path: 'Biology/Birds'
  boundary: 'data'
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'
  decompress_kwargs:
    extract_files:
      - 'Distribution_Common_Murre_Colonies.dbf'
      - 'Distribution_Common_Murre_Colonies.prj'
      - 'Distribution_Common_Murre_Colonies.qpj'
      - 'Distribution_Common_Murre_Colonies.shp'
      - 'Distribution_Common_Murre_Colonies.shx'

- id: caff_char
  title: 'Arctic Char Populations'
  description: 'Polygons indicating the distribution of Arctic Char populations.'
  data_source: caff_char.only
  style: 'semitransparent_polygon'
  visible: False
  group_path: 'Biology/Fish'
  boundary: 'data'
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'


############################
# Environmental management #
############################

- id: nafo_divisions
  title: 'NAFO Divisions'
  description: 'The Northwest Atlantic Fisheries Organization Zones'
  data_source: nafo_divisions.only
  visible: False
  group_path: 'Environmental management'
  style: null
  boundary: 'background'
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'

- <<: *walrus_protected_areas
  id: nunagis_unesco_treaty_zones
  title: 'UNESCO Treaty Zones'
  group_path: 'Environmental management/Protected zones'
  style: nunagis_unesco_treaty_zones
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" IN (''UNESCO World Heritage Site'', ''Ramsar area'')"'

- <<: *walrus_protected_areas
  id: nunagis_no_go_areas
  title: 'No Go Areas'
  group_path: 'Environmental management/Protected zones'
  style: protected_area_polygon
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" = ''No Go Area''"'

- <<: *walrus_protected_areas
  id: nunagis_closed_areas
  title: 'Closed Areas'
  group_path: 'Environmental management/Protected zones'
  style: protected_area_polygon
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" = ''Closed Area''"'

- <<: *walrus_protected_areas
  id: nunagis_salt_or_saline_lake_100m_zones
  title: 'Salt or Saline Lake 100m Zones'
  group_path: 'Environmental management/Protected zones'
  style: protected_area_polygon
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" = ''Salt or saline lake 100m zone''"'

- <<: *walrus_protected_areas
  id: nunagis_homothermic_spring_100m_zones
  title: 'Homothermic Spring 100m Zones'
  group_path: 'Environmental management/Protected zones'
  style: protected_area_polygon
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" = ''Homothermic spring 100 m zone''"'

- <<: *walrus_protected_areas
  id: nunagis_national_park
  title: 'National Park'
  group_path: 'Environmental management/Protected zones'
  style: protected_area_polygon
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" = ''National Park''"'

- <<: *walrus_protected_areas
  id: nunagis_biological_important_areas
  title: 'Biological Important Areas in the National Park'
  group_path: 'Environmental management/Protected zones'
  style: protected_area_polygon
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" = ''Biological Important Areas in the National Park''"'

- <<: *walrus_protected_areas
  id: nunagis_nature_protection_areas
  title: 'Nature Protection Areas'
  group_path: 'Environmental management/Protected zones'
  style: protected_area_polygon
  ogr2ogr_kwargs:
    # TODO: This is lame, stop it!
    input_filename: 'fetched.geojson'
    where: '"\"type\" = ''Nature Protection Area''"'

- &greenland_territorial_waters
  id: exclusive_economic_zone
  title: 'Exclusive Economic Zone (polyline)'
  description: >-
    Exclusive Economic Zone of Greenland based on Executive Order on the
    Exclusive Economic Zone at Greenland. BEK no. 1020 of 20/10/2004. Foreign
    Ministry of Denmark
  data_source: greenland_territorial_waters.only
  visible: False
  # TODO: does this need to be in its own group?
  group_path: 'Environmental management/Exclusive economic zones'
  # style: 'TBD'
  boundary: 'background'
  ingest_task: local_vector
  file_type: '.gpkg'
  data_type: 'vector'
  ogr2ogr_kwargs:
    input_filename: 'GreenlandTerritory_Baseline_3NM_12NM_EEZ_polylines.shp'
    where: '"\"layer\" = ''Boundary_EEZ''"'

- <<: *greenland_territorial_waters
  id: baseline
  title: 'Baseline (polyline)'
  description: >-
    The territorial sea baseline is shown in accordance to executive order
    no 1004 dated 15.10.2004.
  ogr2ogr_kwargs:
    input_filename: 'GreenlandTerritory_Baseline_3NM_12NM_EEZ_polylines.shp'
    where: '"\"layer\" = ''Boundary_basisline''"'

- <<: *greenland_territorial_waters
  id: 3nm_polyline
  title: '3NM (polyline)'
  description: >-
    Reference to Inatsisartut Act no. 15 of 18 June 2017 on protection of the
    marine environment, paragraph 4, 2.
  ogr2ogr_kwargs:
    input_filename: 'GreenlandTerritory_Baseline_3NM_12NM_EEZ_polylines.shp'
    where: '"\"layer\" = ''Boundary_3NM''"'

- <<: *greenland_territorial_waters
  id: 12nm_polyline
  title: '12NM (polyline)'
  description: >-
    FISHERY LIMIT. Regarding the fishery limit, reference is made to Greenland
    Home Rule Parliament Act no 18 dated 31.10.1996, paragraph 7, 2.
  ogr2ogr_kwargs:
    input_filename: 'GreenlandTerritory_Baseline_3NM_12NM_EEZ_polylines.shp'
    where: '"\"layer\" = ''Boundary_12NM''"'

- <<: *greenland_territorial_waters
  id: 3nm_polygon
  title: '3NM (polygon)'
  description: >-
    Reference to Inatsisartut Act no. 15 of 18 June 2017 on protection of the
    marine environment, paragraph 4, 2.
  ogr2ogr_kwargs:
    input_filename: 'GreenlandTerritory_Baseline_3NM_12NM_EEZ_polygons.shp'
    where: '"\"layer\" = ''Boundary_3NM_area''"'

- <<: *greenland_territorial_waters
  id: fishzone_boundary
  title: 'Fishing zone (polygon)'
  description: >-
    FISHERY LIMIT. Regarding the fishery limit, reference is made to Greenland
    Home Rule Parliament Act no 18 dated 31.10.1996
  ogr2ogr_kwargs:
    input_filename: 'GreenlandTerritory_Baseline_3NM_12NM_EEZ_polygons.shp'
    where: '"\"layer\" = ''Boundary_fishzone''"'

#################
# Frozen ground #
#################

- &ground_temperature
  id: ground_temperature
  title: 'Ground temperature (10km)'
  description: >-
      Average mean annual ground temperature in degrees Celsius.
  visible: False
  group_path: 'Frozen ground'
  style: null
  boundary: 'data'
  data_source: pangaea_ground_temperature.10km
  ingest_task: netcdf_raster
  file_type: '.tif'
  data_type: 'raster'
  translate_kwargs:
    extract_dataset: 'MAGT'
  warp_kwargs:
    srcSRS: 'EPSG:3995'

- <<: *ground_temperature
  id:  ground_temperature_sd
  title: 'Ground temperature standard deviation (10km)'
  description: >-
     Standard deviation of the average mean annual ground temperature in degrees Celsius.
  translate_kwargs:
    extract_dataset: 'SD'

- <<: *ground_temperature
  id:  permafrost_probability
  title: 'Permafrost Probability (10km)'
  description: >-
     Permafrost probability (fraction values from 0 to 1) is assigned to each
     grid cell with MAGT < 0°C.
  translate_kwargs:
    extract_dataset: 'PerProb'

##############
# Glaciology #
##############

- id: machguth_massbalance_locations
  title: 'Mass-balance glacier observation locations (Machguth et al.)'
  description: >-
     Locations of glaciers used in surface mass-balance observations (Machguth
     et al.).
  visible: False
  group_path: 'Glaciology'
  style: labeled_point
  data_source: machguth_etal_massbalance_obs_locations.only
  ingest_task: local_vector
  file_type: '.gpkg'
  data_type: 'vector'
  boundary: 'background'
  ogr2ogr_kwargs:
    input_filename: 'locations.gpkg'
    s_srs: 'EPSG:4326'


- id: firn_ice_layer_thickness
  title: 'Firn Ice Layer Output Thicknesses'
  description: >-
      TBD
  visible: False
  group_path: 'Glaciology'
  style: firn_ice_points
  data_source: macferrin_etal_firn_ice_layer_thicknesses.only
  ingest_task: local_vector
  file_type: '.gpkg'
  data_type: 'vector'
  boundary: 'background'
  ogr2ogr_kwargs:
    input_filename: 'Ice_Layer_Output_Thicknesses.gpkg'


- id: jakobshavn_supraglacial_lakes
  title: 'Sermeq Kujalleq/Jakobshavn Supraglacial Lakes'
  description: >-
      Supraglacial lake delineation on Sermeq Kujalleq/Jakobshavn for 2019/05/01 and
      2019/10/01 generated using Sentinel-2 data.
  data_source: esa_cci_supraglacial_lakes.only
  visible: False
  group_path: 'Glaciology'
  # style: 'TBD'
  boundary: 'data'
  ingest_task: local_zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'
  decompress_kwargs:
    extract_files:
      - 'greenland_sgl_s2_20190501_20191001_jakobshavn_merged_v1_1.dbf'
      - 'greenland_sgl_s2_20190501_20191001_jakobshavn_merged_v1_1.prj'
      - 'greenland_sgl_s2_20190501_20191001_jakobshavn_merged_v1_1.qpj'
      - 'greenland_sgl_s2_20190501_20191001_jakobshavn_merged_v1_1.shp'
      - 'greenland_sgl_s2_20190501_20191001_jakobshavn_merged_v1_1.shx'

  # Note that glims also provides a polyline shapefile that represents "snow
  # lines" or "center lines" for glaciers, but there are not features for
  # Greenland.
- &glims
  id: glims_points
  title: 'Points'
  description: >-
    The data are representative points for the glaciers selected.
  data_source: glims.only
  visible: False
  group_path: 'Glaciology/GLIMS'
  boundary: 'data'
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'
  decompress_kwargs:
    extract_files:
      - 'glims_download_82381/glims_points.dbf'
      - 'glims_download_82381/glims_points.prj'
      - 'glims_download_82381/glims_points.shp'
      - 'glims_download_82381/glims_points.shx'

- <<: *glims
  id: glims_images
  title: 'Images (points)'
  description: >-
    Contains information on the images that are linked to glaciers.  If the
    'est_loc' flag is 0, it means the coordinates listed are what is stored in
    the database.  If the flag is 1, it means no coordinates were given, so the
    coordinates listed were estimated as an average of the other image
    coordinates in the package.
  decompress_kwargs:
    extract_files:
      - 'glims_download_82381/glims_images.dbf'
      - 'glims_download_82381/glims_images.prj'
      - 'glims_download_82381/glims_images.shp'
      - 'glims_download_82381/glims_images.shx'
  ogr2ogr_kwargs:
    skipfailures: ''

- <<: *glims
  id: glims_polygons
  title: 'Polygons'
  description: >-
    The data represent polygon features, typically glacier outlines, but also
    including regions of glacial lakes, debris cover, rocks within the glacier
    (nunataks), and other polygonal features.
  decompress_kwargs:
    extract_files:
      - 'glims_download_82381/glims_polygons.dbf'
      - 'glims_download_82381/glims_polygons.prj'
      - 'glims_download_82381/glims_polygons.shp'
      - 'glims_download_82381/glims_polygons.shx'

- id: basal_thermal_state
  title: 'Likely Basal Thermal State (5km)'
  description: 'Likely basal frozen/thawed state of the Greenland Ice Sheet.'
  visible: False
  group_path: 'Glaciology'
  style: basal_thermal_state
  boundary: 'data'
  data_source: basal_thermal_state.only
  ingest_task: basal_thermal_state
  file_type: '.tif'
  data_type: 'raster'
  translate_kwargs:
    extract_dataset: 'basal_thermal_state'
  gdal_mdim_translate_kwargs:
    array: "name=likely_basal_thermal_state,transpose=[1,0],view=[::-1,:]"
  gdal_edit_kwargs:
    a_ullr: "-632500.0 -667500.0 847500.0 -3342500.0"
    a_srs: "EPSG:3413"

- id: glacier_terminus_glacier_ids
  title: 'Glacier IDs'
  visible: False
  group_path: 'Glaciology/Glacier terminus positions 2000-2017'
  style: 'glacier_ids'
  boundary: 'data'
  data_source: glacier_terminus.glacier_ids
  ingest_task: glacier_terminus
  file_type: '.gpkg'
  data_type: 'vector'

- &glacier_terminus
  id: glacier_terminus_2000_2001
  title: 'Glacier Termini 2000 to 2001'
  visible: False
  group_path: 'Glaciology/Glacier terminus positions 2000-2017'
  boundary: 'data'
  data_source: glacier_terminus.2000_2001
  ingest_task: glacier_terminus
  file_type: '.gpkg'
  data_type: 'vector'

- <<: *glacier_terminus
  id: glacier_terminus_2005_2006
  title: 'Glacier Termini 2005 to 2006'
  data_source: glacier_terminus.2005_2006


- <<: *glacier_terminus
  id: glacier_terminus_2006_2007
  title: 'Glacier Termini 2006 to 2007'
  data_source: glacier_terminus.2006_2007


- <<: *glacier_terminus
  id: glacier_terminus_2007_2008
  title: 'Glacier Termini 2007 to 2008'
  data_source: glacier_terminus.2007_2008


- <<: *glacier_terminus
  id: glacier_terminus_2008_2009
  title: 'Glacier Termini 2008 to 2009'
  data_source: glacier_terminus.2008_2009


- <<: *glacier_terminus
  id: glacier_terminus_2012_2013
  title: 'Glacier Termini 2012 to 2013'
  data_source: glacier_terminus.2012_2013


- <<: *glacier_terminus
  id: glacier_terminus_2014_2015
  title: 'Glacier Termini 2014 to 2015'
  data_source: glacier_terminus.2014_2015


- <<: *glacier_terminus
  id: glacier_terminus_2015_2016
  title: 'Glacier Termini 2015 to 2016'
  data_source: glacier_terminus.2015_2016


- <<: *glacier_terminus
  id: glacier_terminus_2016_2017
  title: 'Glacier Termini 2016 to 2017'
  data_source: glacier_terminus.2016_2017

- id: ice_cores
  title: 'Ice Cores'
  visible: False
  group_path: 'Glaciology'
  style: 'labeled_point'
  boundary: 'data'
  data_source: ice_cores.only
  ingest_task: online_vector
  file_type: '.gpkg'
  data_type: 'vector'
  ogr2ogr_kwargs:
    input_filename: 'paleo_icecore.kmz'
    sql: "'SELECT *, Name as label from \"Ice Core\"'"

- &esa_cci_gravimetric_mass_balance_dtu
  id: esa_cci_gravimetric_mass_balance_dtu_2005
  title: 'Mass balance trend 2005-07-01:12:00:00'
  description: >-
      The trends are derived for 5-year periods and are given on a ~50 km
      resolution grid (displayed as points).
  visible: False
  group_path: 'Glaciology/GMB/DTU Space'
  style: 'gmb_dtu_space'
  data_source: esa_cci_gravimetric_mass_balance_dtu.only
  ingest_task: local_vector
  file_type: '.gpkg'
  data_type: 'vector'
  ogr2ogr_kwargs:
    input_filename: 'points_2005_07_01_12_00_00.shp'
    s_srs: 'EPSG:4326'

- <<: *esa_cci_gravimetric_mass_balance_dtu
  id: esa_cci_gravimetric_mass_balance_dtu_2006
  title: 'Mass balance trend 2006-07-02:00:00:00'
  ogr2ogr_kwargs:
    input_filename: 'points_2006_07_02_00_00_00.shp'
    s_srs: 'EPSG:4326'

- <<: *esa_cci_gravimetric_mass_balance_dtu
  id: esa_cci_gravimetric_mass_balance_dtu_2007
  title: 'Mass balance trend 2007-07-02:12:00:00'
  ogr2ogr_kwargs:
    input_filename: 'points_2007_07_02_12_00_00.shp'
    s_srs: 'EPSG:4326'

- <<: *esa_cci_gravimetric_mass_balance_dtu
  id: esa_cci_gravimetric_mass_balance_dtu_2008
  title: 'Mass balance trend 2008-07-01:12:00:00'
  ogr2ogr_kwargs:
    input_filename: 'points_2008_07_01_12_00_00.shp'
    s_srs: 'EPSG:4326'

- <<: *esa_cci_gravimetric_mass_balance_dtu
  id: esa_cci_gravimetric_mass_balance_dtu_2009
  title: 'Mass balance trend 2009-07-01:12:00:00'
  ogr2ogr_kwargs:
    input_filename: 'points_2009_07_01_12_00_00.shp'
    s_srs: 'EPSG:4326'

- <<: *esa_cci_gravimetric_mass_balance_dtu
  id: esa_cci_gravimetric_mass_balance_dtu_2010
  title: 'Mass balance trend 2010-07-02:00:00:00'
  ogr2ogr_kwargs:
    input_filename: 'points_2010_07_02_00_00_00.shp'
    s_srs: 'EPSG:4326'

- <<: *esa_cci_gravimetric_mass_balance_dtu
  id: esa_cci_gravimetric_mass_balance_dtu_2011
  title: 'Mass balance trend 2011-07-02:12:00:00'
  ogr2ogr_kwargs:
    input_filename: 'points_2011_07_02_12_00_00.shp'
    s_srs: 'EPSG:4326'

- <<: *esa_cci_gravimetric_mass_balance_dtu
  id: esa_cci_gravimetric_mass_balance_dtu_2012
  title: 'Mass balance trend 2012-06-16:00:00:00'
  ogr2ogr_kwargs:
    input_filename: 'points_2012_06_16_00_00_00.shp'
    s_srs: 'EPSG:4326'

- <<: *esa_cci_gravimetric_mass_balance_dtu
  id: esa_cci_gravimetric_mass_balance_dtu_2013
  title: 'Mass balance trend 2013-07-17:00:00:00'
  ogr2ogr_kwargs:
    input_filename: 'points_2013_07_17_00_00_00.shp'
    s_srs: 'EPSG:4326'

- <<: *esa_cci_gravimetric_mass_balance_dtu
  id: esa_cci_gravimetric_mass_balance_dtu_2014
  title: 'Mass balance trend 2014-07-02:00:00:00'
  ogr2ogr_kwargs:
    input_filename: 'points_2014_07_02_00_00_00.shp'
    s_srs: 'EPSG:4326'

- <<: *esa_cci_gravimetric_mass_balance_dtu
  id: esa_cci_gravimetric_mass_balance_dtu_2015
  title: 'Mass balance trend 2015-04-02:00:00:00'
  ogr2ogr_kwargs:
    input_filename: 'points_2015_04_02_00_00_00.shp'
    s_srs: 'EPSG:4326'

- <<: *esa_cci_gravimetric_mass_balance_dtu
  id: esa_cci_gravimetric_mass_balance_dtu_2016
  title: 'Mass balance trend 2016-07-01:12:00:00'
  ogr2ogr_kwargs:
    input_filename: 'points_2016_07_01_12_00_00.shp'
    s_srs: 'EPSG:4326'

- <<: *esa_cci_gravimetric_mass_balance_dtu
  id: esa_cci_gravimetric_mass_balance_dtu_2017
  title: 'Mass balance trend 2017-07-01:12:00:00'
  ogr2ogr_kwargs:
    input_filename: 'points_2017_07_01_12_00_00.shp'
    s_srs: 'EPSG:4326'

- &its_live_velocity_mosaic
  id: velocity_mosaic
  title: 'Ice Sheet Velocity (500m)'
  description: 'Magnitude of velocity in meters per year.'
  visible: False
  group_path: 'Glaciology/Ice sheet velocity/ITS_LIVE'
  style: 'ice_sheet_velocity'
  boundary: 'data'
  data_source: velocity_mosaic.only
  ingest_task: velocity_mosaic
  file_type: '.tif'
  data_type: 'raster'
  translate_kwargs:
    extract_dataset: 'v'
  overviews_kwargs:
    overview_levels: [2, 4, 8, 16]
    resampling_method: average
  warp_kwargs:
    xRes: 500
    yRes: 500

- <<: *its_live_velocity_mosaic
  id: velocity_mosaic_error
  title: 'Velocity Error'
  description: 'Magnitude of Velocity error in meters per year.'
  ingest_task: velocity_mosaic
  style: ice_sheet_velocity_error
  translate_kwargs:
    extract_dataset: 'v_err'

- <<: *its_live_velocity_mosaic
  id: velocity_mosaic_ice_mask
  title: 'Ice mask'
  style: null
  description: 'Ice mask used for velocity mosiac.'
  ingest_task: netcdf_raster
  translate_kwargs:
    extract_dataset: 'ice'

- &esa_cci_velocity
  id: esa_cci_velocity_magnitude
  title: 'Land Ice Surface Velocity (250m)'
  description: 'Magnitude of horizontal ice velocity in meters per day.'
  visible: False
  group_path: 'Glaciology/Ice sheet velocity/CCI'
  style: esa_cci_velocity
  boundary: 'data'
  data_source: esa_cci_ice_sheet_velocity_20191214_20200131.only
  ingest_task: local_zipped_netcdf_raster
  file_type: '.tif'
  data_type: 'raster'
  translate_kwargs:
    extract_dataset: 'land_ice_surface_velocity_magnitude'
  overviews_kwargs:
    overview_levels: [2, 4, 8, 16]
    resampling_method: average
  decompress_kwargs:
    extract_files:
      - 'greenland_iv_250m_s1_20191214_20200131_v1_3/greenland_iv_250m_s1_20191214_20200131_v1_3.nc'

- <<: *esa_cci_velocity
  id: esa_cci_velocity_vertical
  title: 'Land Ice Surface Vertical Velocity (250m)'
  description: 'Vertical ice velocity in meters per day.'
  style: null
  translate_kwargs:
    extract_dataset: 'land_ice_surface_vertical_velocity'

- id: ice_thickness_change
  title: 'Ice Column Thickness 2003-2019 (5km)'
  # TODO: better description.
  description: >-
    Ice-column thickness-change-rate estimates in meters per year based on data
    from NASA's ICESat and ICESat-2 satellites.
  visible: False
  group_path: 'Glaciology/Ice thickness change'
  style: 'ice_thickness_change'
  boundary: 'data'
  data_source: icesheet_height_and_thickness_change.only
  ingest_task: ice_thickness_change
  file_type: '.tif'
  data_type: 'raster'
  decompress_kwargs:
    extract_files:
      - 'ICESat1_ICESat2_mass_change/gris.tif'

- &cci_surface_elevation_change
  id: surface_elevation_change_1992_1996
  title: 'Surface Elevation change 1992-1996'
  description: >-
    Rate of surface elevation change in meters per year.
  data_source: esa_cci_surface_elevation_change.only
  visible: False
  group_path: 'Glaciology/Surface elevation change/Observations'
  style: null
  boundary: 'data'
  ingest_task: cci_surface_elevation_change
  file_type: '.tif'
  data_type: 'raster'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,0]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_1993_1997
  title: 'Surface Elevation change 1993-1997'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,1]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_1994_1998
  title: 'Surface Elevation change 1994-1998'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,2]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_1995_1999
  title: 'Surface Elevation change 1995-1999'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,3]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_1996_2000
  title: 'Surface Elevation change 1996-2000'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,4]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_1997_2001
  title: 'Surface Elevation change 1997-2001'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,5]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_1998_2002
  title: 'Surface Elevation change 1998-2002'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,6]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_1999_2003
  title: 'Surface Elevation change 1999-2003'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,7]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_2000_2004
  title: 'Surface Elevation change 2000-2004'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,8]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_2001_2005
  title: 'Surface Elevation change 2001-2005'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,9]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_2002_2006
  title: 'Surface Elevation change 2002-2006'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,10]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_2003_2007
  title: 'Surface Elevation change 2003-2007'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,11]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_2004_2008
  title: 'Surface Elevation change 2004-2008'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,12]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_2005_2009
  title: 'Surface Elevation change 2005-2009'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,13]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_2006_2010
  title: 'Surface Elevation change 2006-2010'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,14]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_2007_2011
  title: 'Surface Elevation change 2007-2011'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,15]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_2008_2012
  title: 'Surface Elevation change 2008-2012'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,16]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_2009_2013
  title: 'Surface Elevation change 2009-2013'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,17]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_2010_2014
  title: 'Surface Elevation change 2010-2014'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,18]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_2011_2015
  title: 'Surface Elevation change 2011-2015'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,19]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_2012_2016
  title: 'Surface Elevation change 2012-2016'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,20]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_2013_2017
  title: 'Surface Elevation change 2013-2017'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,21]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_2014_2018
  title: 'Surface Elevation change 2014-2018'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,22]"

- <<: *cci_surface_elevation_change
  id: surface_elevation_change_2015_2019
  title: 'Surface Elevation change 2015-2019'
  gdal_mdim_translate_kwargs:
    array: "name=SEC,view=[:,:,23]"

- &cci_surface_elevation_change_error
  id: surface_elevation_change_error_1992_1996
  title: 'Surface Elevation change Error 1992-1996'
  description: >-
    Error of rate of surface elevation change in meters per year.
  data_source: esa_cci_surface_elevation_change.only
  visible: False
  group_path: 'Glaciology/Surface elevation change/Errors'
  style: null
  boundary: 'data'
  ingest_task: cci_surface_elevation_change
  file_type: '.tif'
  data_type: 'raster'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,0]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_1993_1997
  title: 'Surface Elevation change Error 1993-1997'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,1]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_1994_1998
  title: 'Surface Elevation change Error 1994-1998'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,2]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_1995_1999
  title: 'Surface Elevation change Error 1995-1999'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,3]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_1996_2000
  title: 'Surface Elevation change Error 1996-2000'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,4]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_1997_2001
  title: 'Surface Elevation change Error 1997-2001'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,5]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_1998_2002
  title: 'Surface Elevation change Error 1998-2002'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,6]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_1999_2003
  title: 'Surface Elevation change Error 1999-2003'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,7]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_2000_2004
  title: 'Surface Elevation change Error 2000-2004'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,8]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_2001_2005
  title: 'Surface Elevation change Error 2001-2005'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,9]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_2002_2006
  title: 'Surface Elevation change Error 2002-2006'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,10]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_2003_2007
  title: 'Surface Elevation change Error 2003-2007'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,11]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_2004_2008
  title: 'Surface Elevation change Error 2004-2008'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,12]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_2005_2009
  title: 'Surface Elevation change Error 2005-2009'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,13]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_2006_2010
  title: 'Surface Elevation change Error 2006-2010'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,14]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_2007_2011
  title: 'Surface Elevation change Error 2007-2011'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,15]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_2008_2012
  title: 'Surface Elevation change Error 2008-2012'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,16]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_2009_2013
  title: 'Surface Elevation change Error 2009-2013'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,17]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_2010_2014
  title: 'Surface Elevation change Error 2010-2014'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,18]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_2011_2015
  title: 'Surface Elevation change Error 2011-2015'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,19]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_2012_2016
  title: 'Surface Elevation change Error 2012-2016'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,20]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_2013_2017
  title: 'Surface Elevation change Error 2013-2017'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,21]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_2014_2018
  title: 'Surface Elevation change Error 2014-2018'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,22]"

- <<: *cci_surface_elevation_change_error
  id: surface_elevation_change_error_2015_2019
  title: 'Surface Elevation change Error 2015-2019'
  gdal_mdim_translate_kwargs:
    array: "name=SECer,view=[:,:,23]"
###############################
# Geology & natural resources #
###############################

- id: earthquakes
  title: 'USGS Earthquakes (M>2.5, 1900-2020)'
  description: >-
    Location and magnitude of earthquakes.
  visible: False
  group_path: 'Geology & natural resources'
  style: 'earthquakes'
  boundary: 'data'
  data_source: earthquakes.only
  ingest_task: 'online_vector'
  file_type: '.geojson'  # ?
  data_type: 'vector'
  ogr2ogr_kwargs:
    input_filename: 'query.geojson'

- id: soil_types
  title: 'Soil Characteristics'
  description: >-
      Polygons representing dominant soil characteristics with percentage
      polygon area for each soil type. Data coverage limited to Greenland.
  visible: False
  group_path: 'Geology & natural resources'
  style: 'soil_types'
  boundary: 'data'
  data_source: soil_types.only
  ingest_task: gzipped_vector_parts
  file_type: '.gpkg'
  data_type: 'vector'
  ogr2ogr_kwargs:
    s_srs: '"+proj=laea +a=6370997.00 +b=6370997.00 +lat_0=90 +lon_0=180 +x_0=0 +y_0=0"'

- id: tectonic_plate_boundaries
  title: 'Tectonic plate boundaries'
  visible: False
  group_path: 'Geology & natural resources'
  boundary: 'background'
  data_source: tectonic_plates.only
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'
  decompress_kwargs:
    extract_files:
      - 'tectonicplates-339b0c56563c118307b1f4542703047f5f698fae/PB2002_boundaries.dbf'
      - 'tectonicplates-339b0c56563c118307b1f4542703047f5f698fae/PB2002_boundaries.prj'
      - 'tectonicplates-339b0c56563c118307b1f4542703047f5f698fae/PB2002_boundaries.sbn'
      - 'tectonicplates-339b0c56563c118307b1f4542703047f5f698fae/PB2002_boundaries.shp'
      - 'tectonicplates-339b0c56563c118307b1f4542703047f5f698fae/PB2002_boundaries.shp.xml'
      - 'tectonicplates-339b0c56563c118307b1f4542703047f5f698fae/PB2002_boundaries.shx'

- &mcas_mlsa
  id: mcas_mlsa_public_all
  title: 'Public Licenses'
  visible: False
  group_path: 'Geology & natural resources/Mineral and hydrocarbon licenses'
  style: 'mcas_mlsa_licenses'
  boundary: 'data'
  data_source: mineral_and_hydrocarbon_licenses.mcas_mlsa_public_all
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'

- <<: *mcas_mlsa
  id: mcas_mlsa_public_historic
  title: 'Historic Public Licenses'
  data_source: mineral_and_hydrocarbon_licenses.mcas_mlsa_public_historic

- &geological_map
  id: onshore_planar_geological_map
  title: 'Onshore Planar'
  description: 'This layer contains onshore faults for the landmass and islands of Greenland.'
  visible: False
  group_path: 'Geology & natural resources/Geological map of the Arctic'
  style: onshore_planar_geological_map
  data_source: geological_map.only
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'
  decompress_kwargs:
    extract_files:
      - 'data/shape/geology/Greenland_onshore_Planar.dbf'
      - 'data/shape/geology/Greenland_onshore_Planar.prj'
      - 'data/shape/geology/Greenland_onshore_Planar.sbn'
      - 'data/shape/geology/Greenland_onshore_Planar.sbx'
      - 'data/shape/geology/Greenland_onshore_Planar.shp'
      - 'data/shape/geology/Greenland_onshore_Planar.shp.xml'
      - 'data/shape/geology/Greenland_onshore_Planar.shx'

- <<: *geological_map
  id: onshore_pattern_geological_map
  title: 'Onshore pattern'
  description: 'Geological unit polygon feature class for the onshore landmass and islands of Greenland.'
  style: geological_map_polygons
  boundary: 'data'
  decompress_kwargs:
    extract_files:
      - 'data/shape/geology/Greenland_onshore_pattern.dbf'
      - 'data/shape/geology/Greenland_onshore_pattern.prj'
      - 'data/shape/geology/Greenland_onshore_pattern.sbn'
      - 'data/shape/geology/Greenland_onshore_pattern.sbx'
      - 'data/shape/geology/Greenland_onshore_pattern.shp'
      - 'data/shape/geology/Greenland_onshore_pattern.shp.xml'
      - 'data/shape/geology/Greenland_onshore_pattern.shx'

- <<: *geological_map
  id: onshore_geological_map
  title: 'Onshore'
  description: 'Geological unit polygon feature class for the onshore landmass and islands of Greenland.'
  style: geological_map_polygons
  decompress_kwargs:
    extract_files:
      - 'data/shape/geology/Greenland_onshore.dbf'
      - 'data/shape/geology/Greenland_onshore.prj'
      - 'data/shape/geology/Greenland_onshore.sbn'
      - 'data/shape/geology/Greenland_onshore.sbx'
      - 'data/shape/geology/Greenland_onshore.shp'
      - 'data/shape/geology/Greenland_onshore.shp.xml'
      - 'data/shape/geology/Greenland_onshore.shx'

# TODO: this layer results in missing features due to reprojection issues. Try
# to come back to this later.
# - id: tectonic_plates
#   title: 'Tectonic plates'
#   visible: False
#   group_path: 'Geology & natural resources'
#   boundary: 'background'
#   data_source: tectonic_plates.only
#   ingest_task: zipped_vector
#   file_type: '.gpkg'
#   data_type: 'vector'
#   decompress_kwargs:
#     extract_files:
#       - 'tectonicplates-339b0c56563c118307b1f4542703047f5f698fae/PB2002_plates.dbf'
#       - 'tectonicplates-339b0c56563c118307b1f4542703047f5f698fae/PB2002_plates.prj'
#       - 'tectonicplates-339b0c56563c118307b1f4542703047f5f698fae/PB2002_plates.sbn'
#       - 'tectonicplates-339b0c56563c118307b1f4542703047f5f698fae/PB2002_plates.shp'
#       - 'tectonicplates-339b0c56563c118307b1f4542703047f5f698fae/PB2002_plates.shp.xml'
#       - 'tectonicplates-339b0c56563c118307b1f4542703047f5f698fae/PB2002_plates.shx'

##############
# Geophysics #
##############

######## World Magnetic Model 2020 ########
- &wmm_north_poles
  id: wmm_north_poles
  title: 'Geomagnetic North Dip Pole 2020-2025'
  description: >-
    The locations of northern hemisphere dip poles (2020-2025) from the World
    Magnetic Model (WMM) 2020 model.

    The geomagnetic dip poles are positions on the Earth's surface where the
    geomagnetic field is perpendicular to the ellipsoid, that is, vertical. The
    north and south dip poles do not have to be (and are not now) antipodal.

    These model dip poles are computed from all the Gauss coefficients using an
    iterative method. In 2020.0 the north dip pole computed from WMM2020 is
    located at longitude 164.04°E and geodetic latitude 86.50°N and the south
    dip pole at longitude 135.88°E and geodetic latitude 64.07°S.
  visible: False
  group_path: 'Geophysics/World Magnetic Model/Dip Poles'
  style: geomagnetic_north_pole
  data_source: world_magnetic_model.geomagnetic_north_pole
  ingest_task: delimited_text_points_vector
  file_type: '.gpkg'
  data_type: 'vector'
  boundary: 'background'
  delimited_text_vector_kwargs:
    input_filename: 'WMM2020_NP.xy'
    header: null
    delimiter: ' '
    field_names:
      - latitude
      - longitude
      - year
  ogr2ogr_kwargs:
    s_srs: 'EPSG:4326'
    input_filename: 'WMM2020_NP.gpkg'

- <<: *wmm_north_poles
  id: wmm_igrf_north_poles
  title: 'IGRF Geomagnetic North Dip Pole 1590-2025'
  description: >-
    The locations of northern hemisphere dip poles (1590-2025) from the latest
    International Geomagnetic Reference Field (IGRF) model.

    The geomagnetic dip poles are positions on the Earth's surface where the
    geomagnetic field is perpendicular to the ellipsoid, that is, vertical. The
    north and south dip poles do not have to be (and are not now) antipodal.

    These model dip poles are computed from all the Gauss coefficients using an
    iterative method.
  data_source: world_magnetic_model.igrf_geomagnetic_north_pole
  delimited_text_vector_kwargs:
    input_filename: 'NP.xy'
    header: null
    delimiter: ' '
    field_names:
      - latitude
      - longitude
      - year
  ogr2ogr_kwargs:
    s_srs: 'EPSG:4326'
    input_filename: 'NP.gpkg'

- id: wmm_geomagnetic_north_pole
  title: 'Geomagnetic North Pole (2020)'
  description: >-
    The WMM representation of the field includes a magnetic dipole at the center
    of the Earth. This dipole defines an axis that intersects the Earth's
    surface at two antipodal points. These points are called geomagnetic
    poles. The geomagnetic poles, otherwise known as the dipole poles, can be
    computed from the first three Gauss coefficients of the WMM. Based on the
    WMM2020 coefficients for 2020.0 the geomagnetic north pole is at 72.68°W
    longitude and 80.59°N geocentric latitude (80.65°N geodetic latitude), and
    the geomagnetic south pole is at 107.32°E longitude and 80.59°S geocentric
    latitude (80.65°S geodetic latitude). The axis of the dipole is currently
    inclined at 9.41° to the Earth's rotation axis. The same dipole is the basis
    for the simple geomagnetic coordinate system of geomagnetic latitude and
    longitude
  visible: False
  group_path: 'Geophysics/World Magnetic Model/Geomagnetic Coordinates (2020)'
  data_source: local_world_magnetic_model.only
  ingest_task: local_vector
  file_type: '.gpkg'
  data_type: 'vector'
  ogr2ogr_kwargs:
    input_filename: 'wmm2020_geomagnetic_north_pole.geojson'
    s_srs: 'EPSG:4326'

- &wmm_geomag_coordinates
  id: wmm_latitudes
  title: 'Geomagnetic Latitudes'
  description: >-
    The WMM representation of the field includes a magnetic dipole at the center
    of the Earth. This dipole defines an axis that intersects the Earth's
    surface at two antipodal points. These points are called geomagnetic
    poles. The geomagnetic poles, otherwise known as the dipole poles, can be
    computed from the first three Gauss coefficients of the WMM. Based on the
    WMM2020 coefficients for 2020.0 the geomagnetic north pole is at 72.68°W
    longitude and 80.59°N geocentric latitude (80.65°N geodetic latitude), and
    the geomagnetic south pole is at 107.32°E longitude and 80.59°S geocentric
    latitude (80.65°S geodetic latitude). The axis of the dipole is currently
    inclined at 9.41° to the Earth's rotation axis. The same dipole is the basis
    for the simple geomagnetic coordinate system of geomagnetic latitude and
    longitude
  visible: False
  group_path: 'Geophysics/World Magnetic Model/Geomagnetic Coordinates (2020)'
  style: geomagnetic_latlon
  data_source: world_magnetic_model.geomagnetic_coordinates
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'
  boundary: 'background'
  ogr2ogr_kwargs:
    OGR_ENABLE_PARTIAL_REPROJECTION: True
  decompress_kwargs:
    extract_files:
      - 'WMM2020_geomagnetic_coordinate_shapefiles/geographic_projection/GeomagLatitude_2020.cpg'
      - 'WMM2020_geomagnetic_coordinate_shapefiles/geographic_projection/GeomagLatitude_2020.dbf'
      - 'WMM2020_geomagnetic_coordinate_shapefiles/geographic_projection/GeomagLatitude_2020.prj'
      - 'WMM2020_geomagnetic_coordinate_shapefiles/geographic_projection/GeomagLatitude_2020.sbn'
      - 'WMM2020_geomagnetic_coordinate_shapefiles/geographic_projection/GeomagLatitude_2020.sbx'
      - 'WMM2020_geomagnetic_coordinate_shapefiles/geographic_projection/GeomagLatitude_2020.shp'
      - 'WMM2020_geomagnetic_coordinate_shapefiles/geographic_projection/GeomagLatitude_2020.shp.xml'
      - 'WMM2020_geomagnetic_coordinate_shapefiles/geographic_projection/GeomagLatitude_2020.shx'

- <<: *wmm_geomag_coordinates
  id: wmm_longitudes
  title: 'Geomagnetic Longitudes'
  decompress_kwargs:
    extract_files:
      - 'WMM2020_geomagnetic_coordinate_shapefiles/geographic_projection/GeomagLongitude_2020.cpg'
      - 'WMM2020_geomagnetic_coordinate_shapefiles/geographic_projection/GeomagLongitude_2020.dbf'
      - 'WMM2020_geomagnetic_coordinate_shapefiles/geographic_projection/GeomagLongitude_2020.prj'
      - 'WMM2020_geomagnetic_coordinate_shapefiles/geographic_projection/GeomagLongitude_2020.sbn'
      - 'WMM2020_geomagnetic_coordinate_shapefiles/geographic_projection/GeomagLongitude_2020.sbx'
      - 'WMM2020_geomagnetic_coordinate_shapefiles/geographic_projection/GeomagLongitude_2020.shp'
      - 'WMM2020_geomagnetic_coordinate_shapefiles/geographic_projection/GeomagLongitude_2020.shp.xml'
      - 'WMM2020_geomagnetic_coordinate_shapefiles/geographic_projection/GeomagLongitude_2020.shx'

- &boz_2020
  id: wmm_boz_2020
  title: 'Blackout Zones'
  description: >-
    Based on the WMM military specification, we define “Blackout Zones” (BoZ)
    around the north and south magnetic poles where compass accuracy is highly
    degraded. The BoZ are defined as regions around the north and south magnetic
    poles where the horizontal intensity of Earth’s magnetic field (H) is less
    than 2000 nT. In BoZs, WMM declination values are not accurate and compasses
    are unreliable.

    We additionally define a “Caution Zone” (2000 nT <= H < 6000 nT) around the
    BoZ, where caution must be exercised while using a compass. Compass accuracy
    may be degraded in this region.
  visible: False
  group_path: 'Geophysics/World Magnetic Model/2020'
  style: blackout_zones
  data_source: world_magnetic_model.blackout_zones
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'
  boundary: 'background'
  decompress_kwargs:
    extract_files:
      - 'BOZ_arctic_all/BOZ_2020.CPG'
      - 'BOZ_arctic_all/BOZ_2020.dbf'
      - 'BOZ_arctic_all/BOZ_2020.prj'
      - 'BOZ_arctic_all/BOZ_2020.sbn'
      - 'BOZ_arctic_all/BOZ_2020.sbx'
      - 'BOZ_arctic_all/BOZ_2020.shp'
      - 'BOZ_arctic_all/BOZ_2020.shp.xml'
      - 'BOZ_arctic_all/BOZ_2020.shx'

- &wmm_d_2020
  id: wmm_d_2020
  title: 'Main Field Declination (D)'
  visible: False
  group_path: 'Geophysics/World Magnetic Model/2020'
  style: null
  data_source: world_magnetic_model.2020
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'
  boundary: 'background'
  decompress_kwargs:
    extract_files:
      - 'WMM_2020_all_shape_geographic/D_2020.cpg'
      - 'WMM_2020_all_shape_geographic/D_2020.dbf'
      - 'WMM_2020_all_shape_geographic/D_2020.prj'
      - 'WMM_2020_all_shape_geographic/D_2020.sbn'
      - 'WMM_2020_all_shape_geographic/D_2020.sbx'
      - 'WMM_2020_all_shape_geographic/D_2020.shp'
      - 'WMM_2020_all_shape_geographic/D_2020.shp.xml'
      - 'WMM_2020_all_shape_geographic/D_2020.shx'
  ogr2ogr_kwargs:
    OGR_ENABLE_PARTIAL_REPROJECTION: True

- <<: *wmm_d_2020
  id: wmm_d_sv_2020
  title: 'Annual Change Declination (D_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2020_all_shape_geographic/D_SV_2020.cpg'
      - 'WMM_2020_all_shape_geographic/D_SV_2020.dbf'
      - 'WMM_2020_all_shape_geographic/D_SV_2020.prj'
      - 'WMM_2020_all_shape_geographic/D_SV_2020.sbn'
      - 'WMM_2020_all_shape_geographic/D_SV_2020.sbx'
      - 'WMM_2020_all_shape_geographic/D_SV_2020.shp'
      - 'WMM_2020_all_shape_geographic/D_SV_2020.shp.xml'
      - 'WMM_2020_all_shape_geographic/D_SV_2020.shx'

- <<: *wmm_d_2020
  id: wmm_f_2020
  title: 'Main Field Total Intensity (F)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2020_all_shape_geographic/F_2020.cpg'
      - 'WMM_2020_all_shape_geographic/F_2020.dbf'
      - 'WMM_2020_all_shape_geographic/F_2020.prj'
      - 'WMM_2020_all_shape_geographic/F_2020.sbn'
      - 'WMM_2020_all_shape_geographic/F_2020.sbx'
      - 'WMM_2020_all_shape_geographic/F_2020.shp'
      - 'WMM_2020_all_shape_geographic/F_2020.shp.xml'
      - 'WMM_2020_all_shape_geographic/F_2020.shx'

- <<: *wmm_d_2020
  id: wmm_f_sv_2020
  title: 'Annual Change Total Intensity (F_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2020_all_shape_geographic/F_SV_2020.cpg'
      - 'WMM_2020_all_shape_geographic/F_SV_2020.dbf'
      - 'WMM_2020_all_shape_geographic/F_SV_2020.prj'
      - 'WMM_2020_all_shape_geographic/F_SV_2020.sbn'
      - 'WMM_2020_all_shape_geographic/F_SV_2020.sbx'
      - 'WMM_2020_all_shape_geographic/F_SV_2020.shp'
      - 'WMM_2020_all_shape_geographic/F_SV_2020.shp.xml'
      - 'WMM_2020_all_shape_geographic/F_SV_2020.shx'

- <<: *wmm_d_2020
  id: wmm_h_2020
  title: 'Main Field Horizontal Intensity (H)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2020_all_shape_geographic/H_2020.cpg'
      - 'WMM_2020_all_shape_geographic/H_2020.dbf'
      - 'WMM_2020_all_shape_geographic/H_2020.prj'
      - 'WMM_2020_all_shape_geographic/H_2020.sbn'
      - 'WMM_2020_all_shape_geographic/H_2020.sbx'
      - 'WMM_2020_all_shape_geographic/H_2020.shp'
      - 'WMM_2020_all_shape_geographic/H_2020.shp.xml'
      - 'WMM_2020_all_shape_geographic/H_2020.shx'

- <<: *wmm_d_2020
  id: wmm_h_sv_2020
  title: 'Annual Change Horizontal Intensity (H_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2020_all_shape_geographic/H_SV_2020.cpg'
      - 'WMM_2020_all_shape_geographic/H_SV_2020.dbf'
      - 'WMM_2020_all_shape_geographic/H_SV_2020.prj'
      - 'WMM_2020_all_shape_geographic/H_SV_2020.sbn'
      - 'WMM_2020_all_shape_geographic/H_SV_2020.sbx'
      - 'WMM_2020_all_shape_geographic/H_SV_2020.shp'
      - 'WMM_2020_all_shape_geographic/H_SV_2020.shp.xml'
      - 'WMM_2020_all_shape_geographic/H_SV_2020.shx'

- <<: *wmm_d_2020
  id: wmm_i_2020
  title: 'Main Field Inclination (I)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2020_all_shape_geographic/I_2020.cpg'
      - 'WMM_2020_all_shape_geographic/I_2020.dbf'
      - 'WMM_2020_all_shape_geographic/I_2020.prj'
      - 'WMM_2020_all_shape_geographic/I_2020.sbn'
      - 'WMM_2020_all_shape_geographic/I_2020.sbx'
      - 'WMM_2020_all_shape_geographic/I_2020.shp'
      - 'WMM_2020_all_shape_geographic/I_2020.shp.xml'
      - 'WMM_2020_all_shape_geographic/I_2020.shx'

- <<: *wmm_d_2020
  id: wmm_i_sv_2020
  title: 'Annual Change Inclination (I_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2020_all_shape_geographic/I_SV_2020.cpg'
      - 'WMM_2020_all_shape_geographic/I_SV_2020.dbf'
      - 'WMM_2020_all_shape_geographic/I_SV_2020.prj'
      - 'WMM_2020_all_shape_geographic/I_SV_2020.sbn'
      - 'WMM_2020_all_shape_geographic/I_SV_2020.sbx'
      - 'WMM_2020_all_shape_geographic/I_SV_2020.shp'
      - 'WMM_2020_all_shape_geographic/I_SV_2020.shp.xml'
      - 'WMM_2020_all_shape_geographic/I_SV_2020.shx'

- <<: *wmm_d_2020
  id: wmm_x_2020
  title: 'Main Field North Component (X)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2020_all_shape_geographic/X_2020.cpg'
      - 'WMM_2020_all_shape_geographic/X_2020.dbf'
      - 'WMM_2020_all_shape_geographic/X_2020.prj'
      - 'WMM_2020_all_shape_geographic/X_2020.sbn'
      - 'WMM_2020_all_shape_geographic/X_2020.sbx'
      - 'WMM_2020_all_shape_geographic/X_2020.shp'
      - 'WMM_2020_all_shape_geographic/X_2020.shp.xml'
      - 'WMM_2020_all_shape_geographic/X_2020.shx'

- <<: *wmm_d_2020
  id: wmm_x_sv_2020
  title: 'Annual Change North Component (X_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2020_all_shape_geographic/X_SV_2020.cpg'
      - 'WMM_2020_all_shape_geographic/X_SV_2020.dbf'
      - 'WMM_2020_all_shape_geographic/X_SV_2020.prj'
      - 'WMM_2020_all_shape_geographic/X_SV_2020.sbn'
      - 'WMM_2020_all_shape_geographic/X_SV_2020.sbx'
      - 'WMM_2020_all_shape_geographic/X_SV_2020.shp'
      - 'WMM_2020_all_shape_geographic/X_SV_2020.shp.xml'
      - 'WMM_2020_all_shape_geographic/X_SV_2020.shx'

- <<: *wmm_d_2020
  id: wmm_y_2020
  title: 'Main Field East Component (Y)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2020_all_shape_geographic/Y_2020.cpg'
      - 'WMM_2020_all_shape_geographic/Y_2020.dbf'
      - 'WMM_2020_all_shape_geographic/Y_2020.prj'
      - 'WMM_2020_all_shape_geographic/Y_2020.sbn'
      - 'WMM_2020_all_shape_geographic/Y_2020.sbx'
      - 'WMM_2020_all_shape_geographic/Y_2020.shp'
      - 'WMM_2020_all_shape_geographic/Y_2020.shp.xml'
      - 'WMM_2020_all_shape_geographic/Y_2020.shx'

- <<: *wmm_d_2020
  id: wmm_y_sv_2020
  title: 'Annual Change East Component (Y_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2020_all_shape_geographic/Y_SV_2020.cpg'
      - 'WMM_2020_all_shape_geographic/Y_SV_2020.dbf'
      - 'WMM_2020_all_shape_geographic/Y_SV_2020.prj'
      - 'WMM_2020_all_shape_geographic/Y_SV_2020.sbn'
      - 'WMM_2020_all_shape_geographic/Y_SV_2020.sbx'
      - 'WMM_2020_all_shape_geographic/Y_SV_2020.shp'
      - 'WMM_2020_all_shape_geographic/Y_SV_2020.shp.xml'
      - 'WMM_2020_all_shape_geographic/Y_SV_2020.shx'

- <<: *wmm_d_2020
  id: wmm_z_2020
  title: 'Main Field Down Component (Z)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2020_all_shape_geographic/Z_2020.cpg'
      - 'WMM_2020_all_shape_geographic/Z_2020.dbf'
      - 'WMM_2020_all_shape_geographic/Z_2020.prj'
      - 'WMM_2020_all_shape_geographic/Z_2020.sbn'
      - 'WMM_2020_all_shape_geographic/Z_2020.sbx'
      - 'WMM_2020_all_shape_geographic/Z_2020.shp'
      - 'WMM_2020_all_shape_geographic/Z_2020.shp.xml'
      - 'WMM_2020_all_shape_geographic/Z_2020.shx'

- <<: *wmm_d_2020
  id: wmm_z_sv_2020
  title: 'Annual Change Down Component (Z_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2020_all_shape_geographic/Z_SV_2020.cpg'
      - 'WMM_2020_all_shape_geographic/Z_SV_2020.dbf'
      - 'WMM_2020_all_shape_geographic/Z_SV_2020.prj'
      - 'WMM_2020_all_shape_geographic/Z_SV_2020.sbn'
      - 'WMM_2020_all_shape_geographic/Z_SV_2020.sbx'
      - 'WMM_2020_all_shape_geographic/Z_SV_2020.shp'
      - 'WMM_2020_all_shape_geographic/Z_SV_2020.shp.xml'
      - 'WMM_2020_all_shape_geographic/Z_SV_2020.shx'


######## World Magnetic Model 2021 ########
- <<: *boz_2020
  id: wmm_boz_2021
  title: 'Blackout Zones'
  group_path: 'Geophysics/World Magnetic Model/2021'
  decompress_kwargs:
    extract_files:
      - 'BOZ_arctic_all/BOZ_2021.CPG'
      - 'BOZ_arctic_all/BOZ_2021.dbf'
      - 'BOZ_arctic_all/BOZ_2021.prj'
      - 'BOZ_arctic_all/BOZ_2021.sbn'
      - 'BOZ_arctic_all/BOZ_2021.sbx'
      - 'BOZ_arctic_all/BOZ_2021.shp'
      - 'BOZ_arctic_all/BOZ_2021.shp.xml'
      - 'BOZ_arctic_all/BOZ_2021.shx'

- &wmm_d_2021
  id: wmm_d_2021
  title: 'Main Field Declination (D)'
  visible: False
  group_path: 'Geophysics/World Magnetic Model/2021'
  style: null
  data_source: world_magnetic_model.2021
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'
  boundary: 'background'
  decompress_kwargs:
    extract_files:
      - 'WMM_2021_all_shape_geographic/D_2021.cpg'
      - 'WMM_2021_all_shape_geographic/D_2021.dbf'
      - 'WMM_2021_all_shape_geographic/D_2021.prj'
      - 'WMM_2021_all_shape_geographic/D_2021.sbn'
      - 'WMM_2021_all_shape_geographic/D_2021.sbx'
      - 'WMM_2021_all_shape_geographic/D_2021.shp'
      - 'WMM_2021_all_shape_geographic/D_2021.shp.xml'
      - 'WMM_2021_all_shape_geographic/D_2021.shx'
  ogr2ogr_kwargs:
    OGR_ENABLE_PARTIAL_REPROJECTION: True

- <<: *wmm_d_2021
  id: wmm_d_sv_2021
  title: 'Annual Change Declination (D_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2021_all_shape_geographic/D_SV_2021.cpg'
      - 'WMM_2021_all_shape_geographic/D_SV_2021.dbf'
      - 'WMM_2021_all_shape_geographic/D_SV_2021.prj'
      - 'WMM_2021_all_shape_geographic/D_SV_2021.sbn'
      - 'WMM_2021_all_shape_geographic/D_SV_2021.sbx'
      - 'WMM_2021_all_shape_geographic/D_SV_2021.shp'
      - 'WMM_2021_all_shape_geographic/D_SV_2021.shp.xml'
      - 'WMM_2021_all_shape_geographic/D_SV_2021.shx'

- <<: *wmm_d_2021
  id: wmm_f_2021
  title: 'Main Field Total Intensity (F)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2021_all_shape_geographic/F_2021.cpg'
      - 'WMM_2021_all_shape_geographic/F_2021.dbf'
      - 'WMM_2021_all_shape_geographic/F_2021.prj'
      - 'WMM_2021_all_shape_geographic/F_2021.sbn'
      - 'WMM_2021_all_shape_geographic/F_2021.sbx'
      - 'WMM_2021_all_shape_geographic/F_2021.shp'
      - 'WMM_2021_all_shape_geographic/F_2021.shp.xml'
      - 'WMM_2021_all_shape_geographic/F_2021.shx'

- <<: *wmm_d_2021
  id: wmm_f_sv_2021
  title: 'Annual Change Total Intensity (F_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2021_all_shape_geographic/F_SV_2021.cpg'
      - 'WMM_2021_all_shape_geographic/F_SV_2021.dbf'
      - 'WMM_2021_all_shape_geographic/F_SV_2021.prj'
      - 'WMM_2021_all_shape_geographic/F_SV_2021.sbn'
      - 'WMM_2021_all_shape_geographic/F_SV_2021.sbx'
      - 'WMM_2021_all_shape_geographic/F_SV_2021.shp'
      - 'WMM_2021_all_shape_geographic/F_SV_2021.shp.xml'
      - 'WMM_2021_all_shape_geographic/F_SV_2021.shx'

- <<: *wmm_d_2021
  id: wmm_h_2021
  title: 'Main Field Horizontal Intensity (H)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2021_all_shape_geographic/H_2021.cpg'
      - 'WMM_2021_all_shape_geographic/H_2021.dbf'
      - 'WMM_2021_all_shape_geographic/H_2021.prj'
      - 'WMM_2021_all_shape_geographic/H_2021.sbn'
      - 'WMM_2021_all_shape_geographic/H_2021.sbx'
      - 'WMM_2021_all_shape_geographic/H_2021.shp'
      - 'WMM_2021_all_shape_geographic/H_2021.shp.xml'
      - 'WMM_2021_all_shape_geographic/H_2021.shx'

- <<: *wmm_d_2021
  id: wmm_h_sv_2021
  title: 'Annual Change Horizontal Intensity (H_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2021_all_shape_geographic/H_SV_2021.cpg'
      - 'WMM_2021_all_shape_geographic/H_SV_2021.dbf'
      - 'WMM_2021_all_shape_geographic/H_SV_2021.prj'
      - 'WMM_2021_all_shape_geographic/H_SV_2021.sbn'
      - 'WMM_2021_all_shape_geographic/H_SV_2021.sbx'
      - 'WMM_2021_all_shape_geographic/H_SV_2021.shp'
      - 'WMM_2021_all_shape_geographic/H_SV_2021.shp.xml'
      - 'WMM_2021_all_shape_geographic/H_SV_2021.shx'

- <<: *wmm_d_2021
  id: wmm_i_2021
  title: 'Main Field Inclination (I)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2021_all_shape_geographic/I_2021.cpg'
      - 'WMM_2021_all_shape_geographic/I_2021.dbf'
      - 'WMM_2021_all_shape_geographic/I_2021.prj'
      - 'WMM_2021_all_shape_geographic/I_2021.sbn'
      - 'WMM_2021_all_shape_geographic/I_2021.sbx'
      - 'WMM_2021_all_shape_geographic/I_2021.shp'
      - 'WMM_2021_all_shape_geographic/I_2021.shp.xml'
      - 'WMM_2021_all_shape_geographic/I_2021.shx'

- <<: *wmm_d_2021
  id: wmm_i_sv_2021
  title: 'Annual Change Inclination (I_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2021_all_shape_geographic/I_SV_2021.cpg'
      - 'WMM_2021_all_shape_geographic/I_SV_2021.dbf'
      - 'WMM_2021_all_shape_geographic/I_SV_2021.prj'
      - 'WMM_2021_all_shape_geographic/I_SV_2021.sbn'
      - 'WMM_2021_all_shape_geographic/I_SV_2021.sbx'
      - 'WMM_2021_all_shape_geographic/I_SV_2021.shp'
      - 'WMM_2021_all_shape_geographic/I_SV_2021.shp.xml'
      - 'WMM_2021_all_shape_geographic/I_SV_2021.shx'

- <<: *wmm_d_2021
  id: wmm_x_2021
  title: 'Main Field North Component (X)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2021_all_shape_geographic/X_2021.cpg'
      - 'WMM_2021_all_shape_geographic/X_2021.dbf'
      - 'WMM_2021_all_shape_geographic/X_2021.prj'
      - 'WMM_2021_all_shape_geographic/X_2021.sbn'
      - 'WMM_2021_all_shape_geographic/X_2021.sbx'
      - 'WMM_2021_all_shape_geographic/X_2021.shp'
      - 'WMM_2021_all_shape_geographic/X_2021.shp.xml'
      - 'WMM_2021_all_shape_geographic/X_2021.shx'

- <<: *wmm_d_2021
  id: wmm_x_sv_2021
  title: 'Annual Change North Component (X_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2021_all_shape_geographic/X_SV_2021.cpg'
      - 'WMM_2021_all_shape_geographic/X_SV_2021.dbf'
      - 'WMM_2021_all_shape_geographic/X_SV_2021.prj'
      - 'WMM_2021_all_shape_geographic/X_SV_2021.sbn'
      - 'WMM_2021_all_shape_geographic/X_SV_2021.sbx'
      - 'WMM_2021_all_shape_geographic/X_SV_2021.shp'
      - 'WMM_2021_all_shape_geographic/X_SV_2021.shp.xml'
      - 'WMM_2021_all_shape_geographic/X_SV_2021.shx'

- <<: *wmm_d_2021
  id: wmm_y_2021
  title: 'Main Field East Component (Y)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2021_all_shape_geographic/Y_2021.cpg'
      - 'WMM_2021_all_shape_geographic/Y_2021.dbf'
      - 'WMM_2021_all_shape_geographic/Y_2021.prj'
      - 'WMM_2021_all_shape_geographic/Y_2021.sbn'
      - 'WMM_2021_all_shape_geographic/Y_2021.sbx'
      - 'WMM_2021_all_shape_geographic/Y_2021.shp'
      - 'WMM_2021_all_shape_geographic/Y_2021.shp.xml'
      - 'WMM_2021_all_shape_geographic/Y_2021.shx'

- <<: *wmm_d_2021
  id: wmm_y_sv_2021
  title: 'Annual Change East Component (Y_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2021_all_shape_geographic/Y_SV_2021.cpg'
      - 'WMM_2021_all_shape_geographic/Y_SV_2021.dbf'
      - 'WMM_2021_all_shape_geographic/Y_SV_2021.prj'
      - 'WMM_2021_all_shape_geographic/Y_SV_2021.sbn'
      - 'WMM_2021_all_shape_geographic/Y_SV_2021.sbx'
      - 'WMM_2021_all_shape_geographic/Y_SV_2021.shp'
      - 'WMM_2021_all_shape_geographic/Y_SV_2021.shp.xml'
      - 'WMM_2021_all_shape_geographic/Y_SV_2021.shx'

- <<: *wmm_d_2021
  id: wmm_z_2021
  title: 'Main Field Down Component (Z)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2021_all_shape_geographic/Z_2021.cpg'
      - 'WMM_2021_all_shape_geographic/Z_2021.dbf'
      - 'WMM_2021_all_shape_geographic/Z_2021.prj'
      - 'WMM_2021_all_shape_geographic/Z_2021.sbn'
      - 'WMM_2021_all_shape_geographic/Z_2021.sbx'
      - 'WMM_2021_all_shape_geographic/Z_2021.shp'
      - 'WMM_2021_all_shape_geographic/Z_2021.shp.xml'
      - 'WMM_2021_all_shape_geographic/Z_2021.shx'

- <<: *wmm_d_2021
  id: wmm_z_sv_2021
  title: 'Annual Change Down Component (Z_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2021_all_shape_geographic/Z_SV_2021.cpg'
      - 'WMM_2021_all_shape_geographic/Z_SV_2021.dbf'
      - 'WMM_2021_all_shape_geographic/Z_SV_2021.prj'
      - 'WMM_2021_all_shape_geographic/Z_SV_2021.sbn'
      - 'WMM_2021_all_shape_geographic/Z_SV_2021.sbx'
      - 'WMM_2021_all_shape_geographic/Z_SV_2021.shp'
      - 'WMM_2021_all_shape_geographic/Z_SV_2021.shp.xml'
      - 'WMM_2021_all_shape_geographic/Z_SV_2021.shx'

######## World Magnetic Model 2022 ########
- <<: *boz_2020
  id: wmm_boz_2022
  title: 'Blackout Zones'
  group_path: 'Geophysics/World Magnetic Model/2022'
  decompress_kwargs:
    extract_files:
      - 'BOZ_arctic_all/BOZ_2022.CPG'
      - 'BOZ_arctic_all/BOZ_2022.dbf'
      - 'BOZ_arctic_all/BOZ_2022.prj'
      - 'BOZ_arctic_all/BOZ_2022.sbn'
      - 'BOZ_arctic_all/BOZ_2022.sbx'
      - 'BOZ_arctic_all/BOZ_2022.shp'
      - 'BOZ_arctic_all/BOZ_2022.shp.xml'
      - 'BOZ_arctic_all/BOZ_2022.shx'

- &wmm_d_2022
  id: wmm_d_2022
  title: 'Main Field Declination (D)'
  visible: False
  group_path: 'Geophysics/World Magnetic Model/2022'
  style: null
  data_source: world_magnetic_model.2022
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'
  boundary: 'background'
  decompress_kwargs:
    extract_files:
      - 'WMM_2022_all_shape_geographic/D_2022.cpg'
      - 'WMM_2022_all_shape_geographic/D_2022.dbf'
      - 'WMM_2022_all_shape_geographic/D_2022.prj'
      - 'WMM_2022_all_shape_geographic/D_2022.sbn'
      - 'WMM_2022_all_shape_geographic/D_2022.sbx'
      - 'WMM_2022_all_shape_geographic/D_2022.shp'
      - 'WMM_2022_all_shape_geographic/D_2022.shp.xml'
      - 'WMM_2022_all_shape_geographic/D_2022.shx'
  ogr2ogr_kwargs:
    OGR_ENABLE_PARTIAL_REPROJECTION: True

- <<: *wmm_d_2022
  id: wmm_d_sv_2022
  title: 'Annual Change Declination (D_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2022_all_shape_geographic/D_SV_2022.cpg'
      - 'WMM_2022_all_shape_geographic/D_SV_2022.dbf'
      - 'WMM_2022_all_shape_geographic/D_SV_2022.prj'
      - 'WMM_2022_all_shape_geographic/D_SV_2022.sbn'
      - 'WMM_2022_all_shape_geographic/D_SV_2022.sbx'
      - 'WMM_2022_all_shape_geographic/D_SV_2022.shp'
      - 'WMM_2022_all_shape_geographic/D_SV_2022.shp.xml'
      - 'WMM_2022_all_shape_geographic/D_SV_2022.shx'

- <<: *wmm_d_2022
  id: wmm_f_2022
  title: 'Main Field Total Intensity (F)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2022_all_shape_geographic/F_2022.cpg'
      - 'WMM_2022_all_shape_geographic/F_2022.dbf'
      - 'WMM_2022_all_shape_geographic/F_2022.prj'
      - 'WMM_2022_all_shape_geographic/F_2022.sbn'
      - 'WMM_2022_all_shape_geographic/F_2022.sbx'
      - 'WMM_2022_all_shape_geographic/F_2022.shp'
      - 'WMM_2022_all_shape_geographic/F_2022.shp.xml'
      - 'WMM_2022_all_shape_geographic/F_2022.shx'

- <<: *wmm_d_2022
  id: wmm_f_sv_2022
  title: 'Annual Change Total Intensity (F_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2022_all_shape_geographic/F_SV_2022.cpg'
      - 'WMM_2022_all_shape_geographic/F_SV_2022.dbf'
      - 'WMM_2022_all_shape_geographic/F_SV_2022.prj'
      - 'WMM_2022_all_shape_geographic/F_SV_2022.sbn'
      - 'WMM_2022_all_shape_geographic/F_SV_2022.sbx'
      - 'WMM_2022_all_shape_geographic/F_SV_2022.shp'
      - 'WMM_2022_all_shape_geographic/F_SV_2022.shp.xml'
      - 'WMM_2022_all_shape_geographic/F_SV_2022.shx'

- <<: *wmm_d_2022
  id: wmm_h_2022
  title: 'Main Field Horizontal Intensity (H)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2022_all_shape_geographic/H_2022.cpg'
      - 'WMM_2022_all_shape_geographic/H_2022.dbf'
      - 'WMM_2022_all_shape_geographic/H_2022.prj'
      - 'WMM_2022_all_shape_geographic/H_2022.sbn'
      - 'WMM_2022_all_shape_geographic/H_2022.sbx'
      - 'WMM_2022_all_shape_geographic/H_2022.shp'
      - 'WMM_2022_all_shape_geographic/H_2022.shp.xml'
      - 'WMM_2022_all_shape_geographic/H_2022.shx'

- <<: *wmm_d_2022
  id: wmm_h_sv_2022
  title: 'Annual Change Horizontal Intensity (H_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2022_all_shape_geographic/H_SV_2022.cpg'
      - 'WMM_2022_all_shape_geographic/H_SV_2022.dbf'
      - 'WMM_2022_all_shape_geographic/H_SV_2022.prj'
      - 'WMM_2022_all_shape_geographic/H_SV_2022.sbn'
      - 'WMM_2022_all_shape_geographic/H_SV_2022.sbx'
      - 'WMM_2022_all_shape_geographic/H_SV_2022.shp'
      - 'WMM_2022_all_shape_geographic/H_SV_2022.shp.xml'
      - 'WMM_2022_all_shape_geographic/H_SV_2022.shx'

- <<: *wmm_d_2022
  id: wmm_i_2022
  title: 'Main Field Inclination (I)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2022_all_shape_geographic/I_2022.cpg'
      - 'WMM_2022_all_shape_geographic/I_2022.dbf'
      - 'WMM_2022_all_shape_geographic/I_2022.prj'
      - 'WMM_2022_all_shape_geographic/I_2022.sbn'
      - 'WMM_2022_all_shape_geographic/I_2022.sbx'
      - 'WMM_2022_all_shape_geographic/I_2022.shp'
      - 'WMM_2022_all_shape_geographic/I_2022.shp.xml'
      - 'WMM_2022_all_shape_geographic/I_2022.shx'

- <<: *wmm_d_2022
  id: wmm_i_sv_2022
  title: 'Annual Change Inclination (I_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2022_all_shape_geographic/I_SV_2022.cpg'
      - 'WMM_2022_all_shape_geographic/I_SV_2022.dbf'
      - 'WMM_2022_all_shape_geographic/I_SV_2022.prj'
      - 'WMM_2022_all_shape_geographic/I_SV_2022.sbn'
      - 'WMM_2022_all_shape_geographic/I_SV_2022.sbx'
      - 'WMM_2022_all_shape_geographic/I_SV_2022.shp'
      - 'WMM_2022_all_shape_geographic/I_SV_2022.shp.xml'
      - 'WMM_2022_all_shape_geographic/I_SV_2022.shx'

- <<: *wmm_d_2022
  id: wmm_x_2022
  title: 'Main Field North Component (X)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2022_all_shape_geographic/X_2022.cpg'
      - 'WMM_2022_all_shape_geographic/X_2022.dbf'
      - 'WMM_2022_all_shape_geographic/X_2022.prj'
      - 'WMM_2022_all_shape_geographic/X_2022.sbn'
      - 'WMM_2022_all_shape_geographic/X_2022.sbx'
      - 'WMM_2022_all_shape_geographic/X_2022.shp'
      - 'WMM_2022_all_shape_geographic/X_2022.shp.xml'
      - 'WMM_2022_all_shape_geographic/X_2022.shx'

- <<: *wmm_d_2022
  id: wmm_x_sv_2022
  title: 'Annual Change North Component (X_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2022_all_shape_geographic/X_SV_2022.cpg'
      - 'WMM_2022_all_shape_geographic/X_SV_2022.dbf'
      - 'WMM_2022_all_shape_geographic/X_SV_2022.prj'
      - 'WMM_2022_all_shape_geographic/X_SV_2022.sbn'
      - 'WMM_2022_all_shape_geographic/X_SV_2022.sbx'
      - 'WMM_2022_all_shape_geographic/X_SV_2022.shp'
      - 'WMM_2022_all_shape_geographic/X_SV_2022.shp.xml'
      - 'WMM_2022_all_shape_geographic/X_SV_2022.shx'

- <<: *wmm_d_2022
  id: wmm_y_2022
  title: 'Main Field East Component (Y)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2022_all_shape_geographic/Y_2022.cpg'
      - 'WMM_2022_all_shape_geographic/Y_2022.dbf'
      - 'WMM_2022_all_shape_geographic/Y_2022.prj'
      - 'WMM_2022_all_shape_geographic/Y_2022.sbn'
      - 'WMM_2022_all_shape_geographic/Y_2022.sbx'
      - 'WMM_2022_all_shape_geographic/Y_2022.shp'
      - 'WMM_2022_all_shape_geographic/Y_2022.shp.xml'
      - 'WMM_2022_all_shape_geographic/Y_2022.shx'

- <<: *wmm_d_2022
  id: wmm_y_sv_2022
  title: 'Annual Change East Component (Y_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2022_all_shape_geographic/Y_SV_2022.cpg'
      - 'WMM_2022_all_shape_geographic/Y_SV_2022.dbf'
      - 'WMM_2022_all_shape_geographic/Y_SV_2022.prj'
      - 'WMM_2022_all_shape_geographic/Y_SV_2022.sbn'
      - 'WMM_2022_all_shape_geographic/Y_SV_2022.sbx'
      - 'WMM_2022_all_shape_geographic/Y_SV_2022.shp'
      - 'WMM_2022_all_shape_geographic/Y_SV_2022.shp.xml'
      - 'WMM_2022_all_shape_geographic/Y_SV_2022.shx'

- <<: *wmm_d_2022
  id: wmm_z_2022
  title: 'Main Field Down Component (Z)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2022_all_shape_geographic/Z_2022.cpg'
      - 'WMM_2022_all_shape_geographic/Z_2022.dbf'
      - 'WMM_2022_all_shape_geographic/Z_2022.prj'
      - 'WMM_2022_all_shape_geographic/Z_2022.sbn'
      - 'WMM_2022_all_shape_geographic/Z_2022.sbx'
      - 'WMM_2022_all_shape_geographic/Z_2022.shp'
      - 'WMM_2022_all_shape_geographic/Z_2022.shp.xml'
      - 'WMM_2022_all_shape_geographic/Z_2022.shx'

- <<: *wmm_d_2022
  id: wmm_z_sv_2022
  title: 'Annual Change Down Component (Z_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2022_all_shape_geographic/Z_SV_2022.cpg'
      - 'WMM_2022_all_shape_geographic/Z_SV_2022.dbf'
      - 'WMM_2022_all_shape_geographic/Z_SV_2022.prj'
      - 'WMM_2022_all_shape_geographic/Z_SV_2022.sbn'
      - 'WMM_2022_all_shape_geographic/Z_SV_2022.sbx'
      - 'WMM_2022_all_shape_geographic/Z_SV_2022.shp'
      - 'WMM_2022_all_shape_geographic/Z_SV_2022.shp.xml'
      - 'WMM_2022_all_shape_geographic/Z_SV_2022.shx'

######## World Magnetic Model 2023 ########
- <<: *boz_2020
  id: wmm_boz_2023
  title: 'Blackout Zones'
  group_path: 'Geophysics/World Magnetic Model/2023'
  decompress_kwargs:
    extract_files:
      - 'BOZ_arctic_all/BOZ_2023.CPG'
      - 'BOZ_arctic_all/BOZ_2023.dbf'
      - 'BOZ_arctic_all/BOZ_2023.prj'
      - 'BOZ_arctic_all/BOZ_2023.sbn'
      - 'BOZ_arctic_all/BOZ_2023.sbx'
      - 'BOZ_arctic_all/BOZ_2023.shp'
      - 'BOZ_arctic_all/BOZ_2023.shp.xml'
      - 'BOZ_arctic_all/BOZ_2023.shx'

- &wmm_d_2023
  id: wmm_d_2023
  title: 'Main Field Declination (D)'
  visible: False
  group_path: 'Geophysics/World Magnetic Model/2023'
  style: null
  data_source: world_magnetic_model.2023
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'
  boundary: 'background'
  decompress_kwargs:
    extract_files:
      - 'WMM_2023_all_shape_geographic/D_2023.cpg'
      - 'WMM_2023_all_shape_geographic/D_2023.dbf'
      - 'WMM_2023_all_shape_geographic/D_2023.prj'
      - 'WMM_2023_all_shape_geographic/D_2023.sbn'
      - 'WMM_2023_all_shape_geographic/D_2023.sbx'
      - 'WMM_2023_all_shape_geographic/D_2023.shp'
      - 'WMM_2023_all_shape_geographic/D_2023.shp.xml'
      - 'WMM_2023_all_shape_geographic/D_2023.shx'
  ogr2ogr_kwargs:
    OGR_ENABLE_PARTIAL_REPROJECTION: True

- <<: *wmm_d_2023
  id: wmm_d_sv_2023
  title: 'Annual Change Declination (D_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2023_all_shape_geographic/D_SV_2023.cpg'
      - 'WMM_2023_all_shape_geographic/D_SV_2023.dbf'
      - 'WMM_2023_all_shape_geographic/D_SV_2023.prj'
      - 'WMM_2023_all_shape_geographic/D_SV_2023.sbn'
      - 'WMM_2023_all_shape_geographic/D_SV_2023.sbx'
      - 'WMM_2023_all_shape_geographic/D_SV_2023.shp'
      - 'WMM_2023_all_shape_geographic/D_SV_2023.shp.xml'
      - 'WMM_2023_all_shape_geographic/D_SV_2023.shx'

- <<: *wmm_d_2023
  id: wmm_f_2023
  title: 'Main Field Total Intensity (F)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2023_all_shape_geographic/F_2023.cpg'
      - 'WMM_2023_all_shape_geographic/F_2023.dbf'
      - 'WMM_2023_all_shape_geographic/F_2023.prj'
      - 'WMM_2023_all_shape_geographic/F_2023.sbn'
      - 'WMM_2023_all_shape_geographic/F_2023.sbx'
      - 'WMM_2023_all_shape_geographic/F_2023.shp'
      - 'WMM_2023_all_shape_geographic/F_2023.shp.xml'
      - 'WMM_2023_all_shape_geographic/F_2023.shx'

- <<: *wmm_d_2023
  id: wmm_f_sv_2023
  title: 'Annual Change Total Intensity (F_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2023_all_shape_geographic/F_SV_2023.cpg'
      - 'WMM_2023_all_shape_geographic/F_SV_2023.dbf'
      - 'WMM_2023_all_shape_geographic/F_SV_2023.prj'
      - 'WMM_2023_all_shape_geographic/F_SV_2023.sbn'
      - 'WMM_2023_all_shape_geographic/F_SV_2023.sbx'
      - 'WMM_2023_all_shape_geographic/F_SV_2023.shp'
      - 'WMM_2023_all_shape_geographic/F_SV_2023.shp.xml'
      - 'WMM_2023_all_shape_geographic/F_SV_2023.shx'

- <<: *wmm_d_2023
  id: wmm_h_2023
  title: 'Main Field Horizontal Intensity (H)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2023_all_shape_geographic/H_2023.cpg'
      - 'WMM_2023_all_shape_geographic/H_2023.dbf'
      - 'WMM_2023_all_shape_geographic/H_2023.prj'
      - 'WMM_2023_all_shape_geographic/H_2023.sbn'
      - 'WMM_2023_all_shape_geographic/H_2023.sbx'
      - 'WMM_2023_all_shape_geographic/H_2023.shp'
      - 'WMM_2023_all_shape_geographic/H_2023.shp.xml'
      - 'WMM_2023_all_shape_geographic/H_2023.shx'

- <<: *wmm_d_2023
  id: wmm_h_sv_2023
  title: 'Annual Change Horizontal Intensity (H_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2023_all_shape_geographic/H_SV_2023.cpg'
      - 'WMM_2023_all_shape_geographic/H_SV_2023.dbf'
      - 'WMM_2023_all_shape_geographic/H_SV_2023.prj'
      - 'WMM_2023_all_shape_geographic/H_SV_2023.sbn'
      - 'WMM_2023_all_shape_geographic/H_SV_2023.sbx'
      - 'WMM_2023_all_shape_geographic/H_SV_2023.shp'
      - 'WMM_2023_all_shape_geographic/H_SV_2023.shp.xml'
      - 'WMM_2023_all_shape_geographic/H_SV_2023.shx'

- <<: *wmm_d_2023
  id: wmm_i_2023
  title: 'Main Field Inclination (I)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2023_all_shape_geographic/I_2023.cpg'
      - 'WMM_2023_all_shape_geographic/I_2023.dbf'
      - 'WMM_2023_all_shape_geographic/I_2023.prj'
      - 'WMM_2023_all_shape_geographic/I_2023.sbn'
      - 'WMM_2023_all_shape_geographic/I_2023.sbx'
      - 'WMM_2023_all_shape_geographic/I_2023.shp'
      - 'WMM_2023_all_shape_geographic/I_2023.shp.xml'
      - 'WMM_2023_all_shape_geographic/I_2023.shx'

- <<: *wmm_d_2023
  id: wmm_i_sv_2023
  title: 'Annual Change Inclination (I_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2023_all_shape_geographic/I_SV_2023.cpg'
      - 'WMM_2023_all_shape_geographic/I_SV_2023.dbf'
      - 'WMM_2023_all_shape_geographic/I_SV_2023.prj'
      - 'WMM_2023_all_shape_geographic/I_SV_2023.sbn'
      - 'WMM_2023_all_shape_geographic/I_SV_2023.sbx'
      - 'WMM_2023_all_shape_geographic/I_SV_2023.shp'
      - 'WMM_2023_all_shape_geographic/I_SV_2023.shp.xml'
      - 'WMM_2023_all_shape_geographic/I_SV_2023.shx'

- <<: *wmm_d_2023
  id: wmm_x_2023
  title: 'Main Field North Component (X)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2023_all_shape_geographic/X_2023.cpg'
      - 'WMM_2023_all_shape_geographic/X_2023.dbf'
      - 'WMM_2023_all_shape_geographic/X_2023.prj'
      - 'WMM_2023_all_shape_geographic/X_2023.sbn'
      - 'WMM_2023_all_shape_geographic/X_2023.sbx'
      - 'WMM_2023_all_shape_geographic/X_2023.shp'
      - 'WMM_2023_all_shape_geographic/X_2023.shp.xml'
      - 'WMM_2023_all_shape_geographic/X_2023.shx'

- <<: *wmm_d_2023
  id: wmm_x_sv_2023
  title: 'Annual Change North Component (X_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2023_all_shape_geographic/X_SV_2023.cpg'
      - 'WMM_2023_all_shape_geographic/X_SV_2023.dbf'
      - 'WMM_2023_all_shape_geographic/X_SV_2023.prj'
      - 'WMM_2023_all_shape_geographic/X_SV_2023.sbn'
      - 'WMM_2023_all_shape_geographic/X_SV_2023.sbx'
      - 'WMM_2023_all_shape_geographic/X_SV_2023.shp'
      - 'WMM_2023_all_shape_geographic/X_SV_2023.shp.xml'
      - 'WMM_2023_all_shape_geographic/X_SV_2023.shx'

- <<: *wmm_d_2023
  id: wmm_y_2023
  title: 'Main Field East Component (Y)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2023_all_shape_geographic/Y_2023.cpg'
      - 'WMM_2023_all_shape_geographic/Y_2023.dbf'
      - 'WMM_2023_all_shape_geographic/Y_2023.prj'
      - 'WMM_2023_all_shape_geographic/Y_2023.sbn'
      - 'WMM_2023_all_shape_geographic/Y_2023.sbx'
      - 'WMM_2023_all_shape_geographic/Y_2023.shp'
      - 'WMM_2023_all_shape_geographic/Y_2023.shp.xml'
      - 'WMM_2023_all_shape_geographic/Y_2023.shx'

- <<: *wmm_d_2023
  id: wmm_y_sv_2023
  title: 'Annual Change East Component (Y_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2023_all_shape_geographic/Y_SV_2023.cpg'
      - 'WMM_2023_all_shape_geographic/Y_SV_2023.dbf'
      - 'WMM_2023_all_shape_geographic/Y_SV_2023.prj'
      - 'WMM_2023_all_shape_geographic/Y_SV_2023.sbn'
      - 'WMM_2023_all_shape_geographic/Y_SV_2023.sbx'
      - 'WMM_2023_all_shape_geographic/Y_SV_2023.shp'
      - 'WMM_2023_all_shape_geographic/Y_SV_2023.shp.xml'
      - 'WMM_2023_all_shape_geographic/Y_SV_2023.shx'

- <<: *wmm_d_2023
  id: wmm_z_2023
  title: 'Main Field Down Component (Z)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2023_all_shape_geographic/Z_2023.cpg'
      - 'WMM_2023_all_shape_geographic/Z_2023.dbf'
      - 'WMM_2023_all_shape_geographic/Z_2023.prj'
      - 'WMM_2023_all_shape_geographic/Z_2023.sbn'
      - 'WMM_2023_all_shape_geographic/Z_2023.sbx'
      - 'WMM_2023_all_shape_geographic/Z_2023.shp'
      - 'WMM_2023_all_shape_geographic/Z_2023.shp.xml'
      - 'WMM_2023_all_shape_geographic/Z_2023.shx'

- <<: *wmm_d_2023
  id: wmm_z_sv_2023
  title: 'Annual Change Down Component (Z_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2023_all_shape_geographic/Z_SV_2023.cpg'
      - 'WMM_2023_all_shape_geographic/Z_SV_2023.dbf'
      - 'WMM_2023_all_shape_geographic/Z_SV_2023.prj'
      - 'WMM_2023_all_shape_geographic/Z_SV_2023.sbn'
      - 'WMM_2023_all_shape_geographic/Z_SV_2023.sbx'
      - 'WMM_2023_all_shape_geographic/Z_SV_2023.shp'
      - 'WMM_2023_all_shape_geographic/Z_SV_2023.shp.xml'
      - 'WMM_2023_all_shape_geographic/Z_SV_2023.shx'

######## World Magnetic Model 2024 ########
- <<: *boz_2020
  id: wmm_boz_2024
  title: 'Blackout Zones'
  group_path: 'Geophysics/World Magnetic Model/2024'
  decompress_kwargs:
    extract_files:
      - 'BOZ_arctic_all/BOZ_2024.CPG'
      - 'BOZ_arctic_all/BOZ_2024.dbf'
      - 'BOZ_arctic_all/BOZ_2024.prj'
      - 'BOZ_arctic_all/BOZ_2024.sbn'
      - 'BOZ_arctic_all/BOZ_2024.sbx'
      - 'BOZ_arctic_all/BOZ_2024.shp'
      - 'BOZ_arctic_all/BOZ_2024.shp.xml'
      - 'BOZ_arctic_all/BOZ_2024.shx'

- &wmm_d_2024
  id: wmm_d_2024
  title: 'Main Field Declination (D)'
  visible: False
  group_path: 'Geophysics/World Magnetic Model/2024'
  style: null
  data_source: world_magnetic_model.2024
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'
  boundary: 'background'
  decompress_kwargs:
    extract_files:
      - 'WMM_2024_all_shape_geographic/D_2024.cpg'
      - 'WMM_2024_all_shape_geographic/D_2024.dbf'
      - 'WMM_2024_all_shape_geographic/D_2024.prj'
      - 'WMM_2024_all_shape_geographic/D_2024.sbn'
      - 'WMM_2024_all_shape_geographic/D_2024.sbx'
      - 'WMM_2024_all_shape_geographic/D_2024.shp'
      - 'WMM_2024_all_shape_geographic/D_2024.shp.xml'
      - 'WMM_2024_all_shape_geographic/D_2024.shx'
  ogr2ogr_kwargs:
    OGR_ENABLE_PARTIAL_REPROJECTION: True

- <<: *wmm_d_2024
  id: wmm_d_sv_2024
  title: 'Annual Change Declination (D_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2024_all_shape_geographic/D_SV_2024.cpg'
      - 'WMM_2024_all_shape_geographic/D_SV_2024.dbf'
      - 'WMM_2024_all_shape_geographic/D_SV_2024.prj'
      - 'WMM_2024_all_shape_geographic/D_SV_2024.sbn'
      - 'WMM_2024_all_shape_geographic/D_SV_2024.sbx'
      - 'WMM_2024_all_shape_geographic/D_SV_2024.shp'
      - 'WMM_2024_all_shape_geographic/D_SV_2024.shp.xml'
      - 'WMM_2024_all_shape_geographic/D_SV_2024.shx'

- <<: *wmm_d_2024
  id: wmm_f_2024
  title: 'Main Field Total Intensity (F)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2024_all_shape_geographic/F_2024.cpg'
      - 'WMM_2024_all_shape_geographic/F_2024.dbf'
      - 'WMM_2024_all_shape_geographic/F_2024.prj'
      - 'WMM_2024_all_shape_geographic/F_2024.sbn'
      - 'WMM_2024_all_shape_geographic/F_2024.sbx'
      - 'WMM_2024_all_shape_geographic/F_2024.shp'
      - 'WMM_2024_all_shape_geographic/F_2024.shp.xml'
      - 'WMM_2024_all_shape_geographic/F_2024.shx'

- <<: *wmm_d_2024
  id: wmm_f_sv_2024
  title: 'Annual Change Total Intensity (F_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2024_all_shape_geographic/F_SV_2024.cpg'
      - 'WMM_2024_all_shape_geographic/F_SV_2024.dbf'
      - 'WMM_2024_all_shape_geographic/F_SV_2024.prj'
      - 'WMM_2024_all_shape_geographic/F_SV_2024.sbn'
      - 'WMM_2024_all_shape_geographic/F_SV_2024.sbx'
      - 'WMM_2024_all_shape_geographic/F_SV_2024.shp'
      - 'WMM_2024_all_shape_geographic/F_SV_2024.shp.xml'
      - 'WMM_2024_all_shape_geographic/F_SV_2024.shx'

- <<: *wmm_d_2024
  id: wmm_h_2024
  title: 'Main Field Horizontal Intensity (H)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2024_all_shape_geographic/H_2024.cpg'
      - 'WMM_2024_all_shape_geographic/H_2024.dbf'
      - 'WMM_2024_all_shape_geographic/H_2024.prj'
      - 'WMM_2024_all_shape_geographic/H_2024.sbn'
      - 'WMM_2024_all_shape_geographic/H_2024.sbx'
      - 'WMM_2024_all_shape_geographic/H_2024.shp'
      - 'WMM_2024_all_shape_geographic/H_2024.shp.xml'
      - 'WMM_2024_all_shape_geographic/H_2024.shx'

- <<: *wmm_d_2024
  id: wmm_h_sv_2024
  title: 'Annual Change Horizontal Intensity (H_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2024_all_shape_geographic/H_SV_2024.cpg'
      - 'WMM_2024_all_shape_geographic/H_SV_2024.dbf'
      - 'WMM_2024_all_shape_geographic/H_SV_2024.prj'
      - 'WMM_2024_all_shape_geographic/H_SV_2024.sbn'
      - 'WMM_2024_all_shape_geographic/H_SV_2024.sbx'
      - 'WMM_2024_all_shape_geographic/H_SV_2024.shp'
      - 'WMM_2024_all_shape_geographic/H_SV_2024.shp.xml'
      - 'WMM_2024_all_shape_geographic/H_SV_2024.shx'

- <<: *wmm_d_2024
  id: wmm_i_2024
  title: 'Main Field Inclination (I)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2024_all_shape_geographic/I_2024.cpg'
      - 'WMM_2024_all_shape_geographic/I_2024.dbf'
      - 'WMM_2024_all_shape_geographic/I_2024.prj'
      - 'WMM_2024_all_shape_geographic/I_2024.sbn'
      - 'WMM_2024_all_shape_geographic/I_2024.sbx'
      - 'WMM_2024_all_shape_geographic/I_2024.shp'
      - 'WMM_2024_all_shape_geographic/I_2024.shp.xml'
      - 'WMM_2024_all_shape_geographic/I_2024.shx'

- <<: *wmm_d_2024
  id: wmm_i_sv_2024
  title: 'Annual Change Inclination (I_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2024_all_shape_geographic/I_SV_2024.cpg'
      - 'WMM_2024_all_shape_geographic/I_SV_2024.dbf'
      - 'WMM_2024_all_shape_geographic/I_SV_2024.prj'
      - 'WMM_2024_all_shape_geographic/I_SV_2024.sbn'
      - 'WMM_2024_all_shape_geographic/I_SV_2024.sbx'
      - 'WMM_2024_all_shape_geographic/I_SV_2024.shp'
      - 'WMM_2024_all_shape_geographic/I_SV_2024.shp.xml'
      - 'WMM_2024_all_shape_geographic/I_SV_2024.shx'

- <<: *wmm_d_2024
  id: wmm_x_2024
  title: 'Main Field North Component (X)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2024_all_shape_geographic/X_2024.cpg'
      - 'WMM_2024_all_shape_geographic/X_2024.dbf'
      - 'WMM_2024_all_shape_geographic/X_2024.prj'
      - 'WMM_2024_all_shape_geographic/X_2024.sbn'
      - 'WMM_2024_all_shape_geographic/X_2024.sbx'
      - 'WMM_2024_all_shape_geographic/X_2024.shp'
      - 'WMM_2024_all_shape_geographic/X_2024.shp.xml'
      - 'WMM_2024_all_shape_geographic/X_2024.shx'

- <<: *wmm_d_2024
  id: wmm_x_sv_2024
  title: 'Annual Change North Component (X_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2024_all_shape_geographic/X_SV_2024.cpg'
      - 'WMM_2024_all_shape_geographic/X_SV_2024.dbf'
      - 'WMM_2024_all_shape_geographic/X_SV_2024.prj'
      - 'WMM_2024_all_shape_geographic/X_SV_2024.sbn'
      - 'WMM_2024_all_shape_geographic/X_SV_2024.sbx'
      - 'WMM_2024_all_shape_geographic/X_SV_2024.shp'
      - 'WMM_2024_all_shape_geographic/X_SV_2024.shp.xml'
      - 'WMM_2024_all_shape_geographic/X_SV_2024.shx'

- <<: *wmm_d_2024
  id: wmm_y_2024
  title: 'Main Field East Component (Y)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2024_all_shape_geographic/Y_2024.cpg'
      - 'WMM_2024_all_shape_geographic/Y_2024.dbf'
      - 'WMM_2024_all_shape_geographic/Y_2024.prj'
      - 'WMM_2024_all_shape_geographic/Y_2024.sbn'
      - 'WMM_2024_all_shape_geographic/Y_2024.sbx'
      - 'WMM_2024_all_shape_geographic/Y_2024.shp'
      - 'WMM_2024_all_shape_geographic/Y_2024.shp.xml'
      - 'WMM_2024_all_shape_geographic/Y_2024.shx'

- <<: *wmm_d_2024
  id: wmm_y_sv_2024
  title: 'Annual Change East Component (Y_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2024_all_shape_geographic/Y_SV_2024.cpg'
      - 'WMM_2024_all_shape_geographic/Y_SV_2024.dbf'
      - 'WMM_2024_all_shape_geographic/Y_SV_2024.prj'
      - 'WMM_2024_all_shape_geographic/Y_SV_2024.sbn'
      - 'WMM_2024_all_shape_geographic/Y_SV_2024.sbx'
      - 'WMM_2024_all_shape_geographic/Y_SV_2024.shp'
      - 'WMM_2024_all_shape_geographic/Y_SV_2024.shp.xml'
      - 'WMM_2024_all_shape_geographic/Y_SV_2024.shx'

- <<: *wmm_d_2024
  id: wmm_z_2024
  title: 'Main Field Down Component (Z)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2024_all_shape_geographic/Z_2024.cpg'
      - 'WMM_2024_all_shape_geographic/Z_2024.dbf'
      - 'WMM_2024_all_shape_geographic/Z_2024.prj'
      - 'WMM_2024_all_shape_geographic/Z_2024.sbn'
      - 'WMM_2024_all_shape_geographic/Z_2024.sbx'
      - 'WMM_2024_all_shape_geographic/Z_2024.shp'
      - 'WMM_2024_all_shape_geographic/Z_2024.shp.xml'
      - 'WMM_2024_all_shape_geographic/Z_2024.shx'

- <<: *wmm_d_2024
  id: wmm_z_sv_2024
  title: 'Annual Change Down Component (Z_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2024_all_shape_geographic/Z_SV_2024.cpg'
      - 'WMM_2024_all_shape_geographic/Z_SV_2024.dbf'
      - 'WMM_2024_all_shape_geographic/Z_SV_2024.prj'
      - 'WMM_2024_all_shape_geographic/Z_SV_2024.sbn'
      - 'WMM_2024_all_shape_geographic/Z_SV_2024.sbx'
      - 'WMM_2024_all_shape_geographic/Z_SV_2024.shp'
      - 'WMM_2024_all_shape_geographic/Z_SV_2024.shp.xml'
      - 'WMM_2024_all_shape_geographic/Z_SV_2024.shx'

######## World Magnetic Model 2025 ########
- <<: *boz_2020
  id: wmm_boz_2025
  title: 'Blackout Zones'
  group_path: 'Geophysics/World Magnetic Model/2025'
  decompress_kwargs:
    extract_files:
      - 'BOZ_arctic_all/BOZ_2025.CPG'
      - 'BOZ_arctic_all/BOZ_2025.dbf'
      - 'BOZ_arctic_all/BOZ_2025.prj'
      - 'BOZ_arctic_all/BOZ_2025.sbn'
      - 'BOZ_arctic_all/BOZ_2025.sbx'
      - 'BOZ_arctic_all/BOZ_2025.shp'
      - 'BOZ_arctic_all/BOZ_2025.shp.xml'
      - 'BOZ_arctic_all/BOZ_2025.shx'

- &wmm_d_2025
  id: wmm_d_2025
  title: 'Main Field Declination (D)'
  visible: False
  group_path: 'Geophysics/World Magnetic Model/2025'
  style: null
  data_source: world_magnetic_model.2025
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'
  boundary: 'background'
  decompress_kwargs:
    extract_files:
      - 'WMM_2025_all_shape_geographic/D_2025.cpg'
      - 'WMM_2025_all_shape_geographic/D_2025.dbf'
      - 'WMM_2025_all_shape_geographic/D_2025.prj'
      - 'WMM_2025_all_shape_geographic/D_2025.sbn'
      - 'WMM_2025_all_shape_geographic/D_2025.sbx'
      - 'WMM_2025_all_shape_geographic/D_2025.shp'
      - 'WMM_2025_all_shape_geographic/D_2025.shp.xml'
      - 'WMM_2025_all_shape_geographic/D_2025.shx'
  ogr2ogr_kwargs:
    OGR_ENABLE_PARTIAL_REPROJECTION: True

- <<: *wmm_d_2025
  id: wmm_d_sv_2025
  title: 'Annual Change Declination (D_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2025_all_shape_geographic/D_SV_2025.cpg'
      - 'WMM_2025_all_shape_geographic/D_SV_2025.dbf'
      - 'WMM_2025_all_shape_geographic/D_SV_2025.prj'
      - 'WMM_2025_all_shape_geographic/D_SV_2025.sbn'
      - 'WMM_2025_all_shape_geographic/D_SV_2025.sbx'
      - 'WMM_2025_all_shape_geographic/D_SV_2025.shp'
      - 'WMM_2025_all_shape_geographic/D_SV_2025.shp.xml'
      - 'WMM_2025_all_shape_geographic/D_SV_2025.shx'

- <<: *wmm_d_2025
  id: wmm_f_2025
  title: 'Main Field Total Intensity (F)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2025_all_shape_geographic/F_2025.cpg'
      - 'WMM_2025_all_shape_geographic/F_2025.dbf'
      - 'WMM_2025_all_shape_geographic/F_2025.prj'
      - 'WMM_2025_all_shape_geographic/F_2025.sbn'
      - 'WMM_2025_all_shape_geographic/F_2025.sbx'
      - 'WMM_2025_all_shape_geographic/F_2025.shp'
      - 'WMM_2025_all_shape_geographic/F_2025.shp.xml'
      - 'WMM_2025_all_shape_geographic/F_2025.shx'

- <<: *wmm_d_2025
  id: wmm_f_sv_2025
  title: 'Annual Change Total Intensity (F_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2025_all_shape_geographic/F_SV_2025.cpg'
      - 'WMM_2025_all_shape_geographic/F_SV_2025.dbf'
      - 'WMM_2025_all_shape_geographic/F_SV_2025.prj'
      - 'WMM_2025_all_shape_geographic/F_SV_2025.sbn'
      - 'WMM_2025_all_shape_geographic/F_SV_2025.sbx'
      - 'WMM_2025_all_shape_geographic/F_SV_2025.shp'
      - 'WMM_2025_all_shape_geographic/F_SV_2025.shp.xml'
      - 'WMM_2025_all_shape_geographic/F_SV_2025.shx'

- <<: *wmm_d_2025
  id: wmm_h_2025
  title: 'Main Field Horizontal Intensity (H)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2025_all_shape_geographic/H_2025.cpg'
      - 'WMM_2025_all_shape_geographic/H_2025.dbf'
      - 'WMM_2025_all_shape_geographic/H_2025.prj'
      - 'WMM_2025_all_shape_geographic/H_2025.sbn'
      - 'WMM_2025_all_shape_geographic/H_2025.sbx'
      - 'WMM_2025_all_shape_geographic/H_2025.shp'
      - 'WMM_2025_all_shape_geographic/H_2025.shp.xml'
      - 'WMM_2025_all_shape_geographic/H_2025.shx'

- <<: *wmm_d_2025
  id: wmm_h_sv_2025
  title: 'Annual Change Horizontal Intensity (H_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2025_all_shape_geographic/H_SV_2025.cpg'
      - 'WMM_2025_all_shape_geographic/H_SV_2025.dbf'
      - 'WMM_2025_all_shape_geographic/H_SV_2025.prj'
      - 'WMM_2025_all_shape_geographic/H_SV_2025.sbn'
      - 'WMM_2025_all_shape_geographic/H_SV_2025.sbx'
      - 'WMM_2025_all_shape_geographic/H_SV_2025.shp'
      - 'WMM_2025_all_shape_geographic/H_SV_2025.shp.xml'
      - 'WMM_2025_all_shape_geographic/H_SV_2025.shx'

- <<: *wmm_d_2025
  id: wmm_i_2025
  title: 'Main Field Inclination (I)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2025_all_shape_geographic/I_2025.cpg'
      - 'WMM_2025_all_shape_geographic/I_2025.dbf'
      - 'WMM_2025_all_shape_geographic/I_2025.prj'
      - 'WMM_2025_all_shape_geographic/I_2025.sbn'
      - 'WMM_2025_all_shape_geographic/I_2025.sbx'
      - 'WMM_2025_all_shape_geographic/I_2025.shp'
      - 'WMM_2025_all_shape_geographic/I_2025.shp.xml'
      - 'WMM_2025_all_shape_geographic/I_2025.shx'

- <<: *wmm_d_2025
  id: wmm_i_sv_2025
  title: 'Annual Change Inclination (I_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2025_all_shape_geographic/I_SV_2025.cpg'
      - 'WMM_2025_all_shape_geographic/I_SV_2025.dbf'
      - 'WMM_2025_all_shape_geographic/I_SV_2025.prj'
      - 'WMM_2025_all_shape_geographic/I_SV_2025.sbn'
      - 'WMM_2025_all_shape_geographic/I_SV_2025.sbx'
      - 'WMM_2025_all_shape_geographic/I_SV_2025.shp'
      - 'WMM_2025_all_shape_geographic/I_SV_2025.shp.xml'
      - 'WMM_2025_all_shape_geographic/I_SV_2025.shx'

- <<: *wmm_d_2025
  id: wmm_x_2025
  title: 'Main Field North Component (X)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2025_all_shape_geographic/X_2025.cpg'
      - 'WMM_2025_all_shape_geographic/X_2025.dbf'
      - 'WMM_2025_all_shape_geographic/X_2025.prj'
      - 'WMM_2025_all_shape_geographic/X_2025.sbn'
      - 'WMM_2025_all_shape_geographic/X_2025.sbx'
      - 'WMM_2025_all_shape_geographic/X_2025.shp'
      - 'WMM_2025_all_shape_geographic/X_2025.shp.xml'
      - 'WMM_2025_all_shape_geographic/X_2025.shx'

- <<: *wmm_d_2025
  id: wmm_x_sv_2025
  title: 'Annual Change North Component (X_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2025_all_shape_geographic/X_SV_2025.cpg'
      - 'WMM_2025_all_shape_geographic/X_SV_2025.dbf'
      - 'WMM_2025_all_shape_geographic/X_SV_2025.prj'
      - 'WMM_2025_all_shape_geographic/X_SV_2025.sbn'
      - 'WMM_2025_all_shape_geographic/X_SV_2025.sbx'
      - 'WMM_2025_all_shape_geographic/X_SV_2025.shp'
      - 'WMM_2025_all_shape_geographic/X_SV_2025.shp.xml'
      - 'WMM_2025_all_shape_geographic/X_SV_2025.shx'

- <<: *wmm_d_2025
  id: wmm_y_2025
  title: 'Main Field East Component (Y)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2025_all_shape_geographic/Y_2025.cpg'
      - 'WMM_2025_all_shape_geographic/Y_2025.dbf'
      - 'WMM_2025_all_shape_geographic/Y_2025.prj'
      - 'WMM_2025_all_shape_geographic/Y_2025.sbn'
      - 'WMM_2025_all_shape_geographic/Y_2025.sbx'
      - 'WMM_2025_all_shape_geographic/Y_2025.shp'
      - 'WMM_2025_all_shape_geographic/Y_2025.shp.xml'
      - 'WMM_2025_all_shape_geographic/Y_2025.shx'

- <<: *wmm_d_2025
  id: wmm_y_sv_2025
  title: 'Annual Change East Component (Y_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2025_all_shape_geographic/Y_SV_2025.cpg'
      - 'WMM_2025_all_shape_geographic/Y_SV_2025.dbf'
      - 'WMM_2025_all_shape_geographic/Y_SV_2025.prj'
      - 'WMM_2025_all_shape_geographic/Y_SV_2025.sbn'
      - 'WMM_2025_all_shape_geographic/Y_SV_2025.sbx'
      - 'WMM_2025_all_shape_geographic/Y_SV_2025.shp'
      - 'WMM_2025_all_shape_geographic/Y_SV_2025.shp.xml'
      - 'WMM_2025_all_shape_geographic/Y_SV_2025.shx'

- <<: *wmm_d_2025
  id: wmm_z_2025
  title: 'Main Field Down Component (Z)'
  decompress_kwargs:
    extract_files:
      - 'WMM_2025_all_shape_geographic/Z_2025.cpg'
      - 'WMM_2025_all_shape_geographic/Z_2025.dbf'
      - 'WMM_2025_all_shape_geographic/Z_2025.prj'
      - 'WMM_2025_all_shape_geographic/Z_2025.sbn'
      - 'WMM_2025_all_shape_geographic/Z_2025.sbx'
      - 'WMM_2025_all_shape_geographic/Z_2025.shp'
      - 'WMM_2025_all_shape_geographic/Z_2025.shp.xml'
      - 'WMM_2025_all_shape_geographic/Z_2025.shx'

- <<: *wmm_d_2025
  id: wmm_z_sv_2025
  title: 'Annual Change Down Component (Z_SV)'
  description: >-
    Secular variation is the slow change in time of the main magnetic field.
  decompress_kwargs:
    extract_files:
      - 'WMM_2025_all_shape_geographic/Z_SV_2025.cpg'
      - 'WMM_2025_all_shape_geographic/Z_SV_2025.dbf'
      - 'WMM_2025_all_shape_geographic/Z_SV_2025.prj'
      - 'WMM_2025_all_shape_geographic/Z_SV_2025.sbn'
      - 'WMM_2025_all_shape_geographic/Z_SV_2025.sbx'
      - 'WMM_2025_all_shape_geographic/Z_SV_2025.shp'
      - 'WMM_2025_all_shape_geographic/Z_SV_2025.shp.xml'
      - 'WMM_2025_all_shape_geographic/Z_SV_2025.shx'

######## Geothermal Heat Flux ########
- id: geothermal_heat_flux
  title: 'Geothermal Heat Flux'
  description: >-
    Geothermal heat flux interpolated from ice core measurements in miliwatts
    per square meter.
  visible: False
  group_path: 'Geophysics'
  style: 'geothermal_heat_flux'
  data_source: geothermal_heat_flux.only
  ingest_task: zipped_netcdf
  decompress_kwargs:
    extract_files:
      - 'ADS/ArCS-T2/A20180227-001/v200/dataset/GHF_Greenland_Ver2.0_GridEPSG3413_05km.nc'
  translate_kwargs:
    extract_dataset: 'GHF'
  file_type: '.tif'
  data_type: 'raster'
  boundary: 'data'


##################
# Human activity #
##################

- id: gem_research_stations
  title: 'GEM research stations'
  description: >-
    Location and description of Greenland Ecosystem Monitoring research
    stations.
  visible: False
  group_path: 'Human activity/Research stations'
  style: 'labeled_point'
  data_source: gem_research_stations.only
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'
  boundary: 'data'
  ogr2ogr_kwargs:
    sql: "'SELECT *, StationNam as label from \"GEMStations\"'"

- &gc_net_promice_stations
  id: promice_research_stations
  title: 'PROMICE Automated Weather Stations'
  visible: False
  group_path: 'Human activity/Research stations'
  style: 'labeled_point'
  data_source: gc_net_promice_stations.promice
  ingest_task: delimited_text_points_vector
  file_type: '.gpkg'
  data_type: 'vector'
  boundary: 'data'
  delimited_text_vector_kwargs:
    input_filename: 'PROMICE_info_from_GPS_data_2017-2018.csv'
    delimiter: "\t"
    x_field: 'lon'
    y_field: 'lat'
  ogr2ogr_kwargs:
    s_srs: "EPSG:4326"
    sql: "'SELECT *, name as label from \"PROMICE_info_from_GPS_data_2017-2018\"'"
    input_filename: 'PROMICE_info_from_GPS_data_2017-2018.gpkg'

- <<: *gc_net_promice_stations
  id: promice_research_stations_former
  title: 'Former PROMICE Automated Weather Stations'
  data_source: gc_net_promice_stations.promice_former
  delimited_text_vector_kwargs:
    input_filename: 'PROMICE_info_from_GPS_data_2017-2018_former_sites.csv'
    delimiter: "\t"
    x_field: 'lon'
    y_field: 'lat'
  ogr2ogr_kwargs:
    s_srs: "EPSG:4326"
    sql: "'SELECT *, name as label from \"PROMICE_info_from_GPS_data_2017-2018_former_sites\"'"
    input_filename: 'PROMICE_info_from_GPS_data_2017-2018_former_sites.gpkg'

- <<: *gc_net_promice_stations
  id: gc_net_research_stations
  title: 'GC-NET Automated Weather Stations'
  data_source: gc_net_promice_stations.gc_net
  delimited_text_vector_kwargs:
    input_filename: 'GCN%20info%20ca.2000.csv'
    delimiter: ','
    x_field: 'lon'
    y_field: 'lat'
  ogr2ogr_kwargs:
    s_srs: "EPSG:4326"
    sql: "'SELECT *, name as label from \"GCN%20info%20ca.2000\"'"
    input_filename: 'GCN%20info%20ca.2000.gpkg'

- id: seismograph_stations
  title: 'Seismograph Stations'
  description: >-
    Location and details of Greenland seismograph stations.
  visible: False
  # TODO: is this where this layer should live?
  group_path: 'Human activity/Research stations'
  data_source: seismograph_stations.only
  ingest_task: online_vector
  file_type: '.gpkg'
  data_type: 'vector'
  boundary: 'data'
  ogr2ogr_kwargs:
    input_filename: 'stations.kmz'


- id: arctic_sea_routes
  title: 'Arctic Sea Routes'
  description: >-
    Lines depict the Northern Sea Route, Northwest Passate, and hypothetical
    Transpolar Route.
  visible: False
  style: 'arctic_sea_routes'
  group_path: 'Human activity'
  data_source: nga_arctic_sea_routes.only
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'
  boundary: 'background'


#############
# Hydrology #
#############

- &streams_outlets_basins
  id: ice_basins
  title: 'Ice Basins'
  description: >-
      TODO
  data_source: streams_outlets_basins.ice_basins
  ingest_task: online_vector
  file_type: '.gpkg'
  data_type: 'vector'
  visible: False
  group_path: 'Hydrology'
  ogr2ogr_kwargs:
    input_filename: 'basins.gpkg'

- <<: *streams_outlets_basins
  id: land_basins
  title: 'Land Basins'
  data_source: streams_outlets_basins.land_basins
  ogr2ogr_kwargs:
    input_filename: 'basins.gpkg'

- <<: *streams_outlets_basins
  id: ice_basins_filled
  title: 'Ice Basins Filled'
  data_source: streams_outlets_basins.ice_basins_filled
  ogr2ogr_kwargs:
    input_filename: 'basins_filled.gpkg'

- <<: *streams_outlets_basins
  id: land_basins_filled
  title: 'Land Basins Filled'
  data_source: streams_outlets_basins.land_basins_filled
  ogr2ogr_kwargs:
    input_filename: 'basins_filled.gpkg'

- <<: *streams_outlets_basins
  id: ice_outlets
  title: 'Ice Outlets'
  data_source: streams_outlets_basins.ice_outlets
  ogr2ogr_kwargs:
    input_filename: 'outlets.gpkg'

- <<: *streams_outlets_basins
  id: land_outlets
  title: 'Land Outlets'
  data_source: streams_outlets_basins.land_outlets
  ogr2ogr_kwargs:
    input_filename: 'outlets.gpkg'

- <<: *streams_outlets_basins
  id: ice_streams
  title: 'Ice Streams'
  data_source: streams_outlets_basins.ice_streams
  ogr2ogr_kwargs:
    input_filename: 'streams.gpkg'
    sql: "'SELECT * from streams WHERE GeometryType(geom) = \"LINESTRING\" AND ST_NPoints(geom) > 1'"

- <<: *streams_outlets_basins
  id: land_streams
  title: 'Land Streams'
  data_source: streams_outlets_basins.land_streams
  ogr2ogr_kwargs:
    input_filename: 'streams.gpkg'
    sql: "'SELECT * from streams WHERE GeometryType(geom) = \"LINESTRING\" AND ST_NPoints(geom) > 1'"


################
# Oceanography #
################

- &undersea_features
  id: undersea_features_point
  title: 'IHO-ICO GEBCO Features (point)'
  description: >-
      Undersea feature names curated by the General Bathymetric Chart of the
      Oceans (GEBCO) Sub-Committee on Undersea Feature Names (SCUFN)
  visible: False
  group_path: 'Oceanography/IHO-ICO GEBCO Undersea feature names'
  style: 'undersea_features_point'
  boundary: 'data'
  data_source: undersea_features.only
  ingest_task: zipped_vector
  # TODO: ingest_kwargs vs decompress_kwargs
  decompress_kwargs:
  # TODO: regex(s) instad of file list?
    extract_files:
      - 'features/features-point.dbf'
      - 'features/features-point.prj'
      - 'features/features-point.shp'
      - 'features/features-point.shx'
  file_type: '.gpkg'
  data_type: 'vector'
  ogr2ogr_kwargs:
    sql: "'SELECT *, name as label from \"features-point\"'"

  # Note: source zipfile for undersea features data has multipoint shapefile
  # that only contains data outside of the project extent.

- <<: *undersea_features
  id: undersea_features_multilinestring
  title: 'IHO-ICO GEBCO Features (multiline)'
  style: 'undersea_features_line'
  decompress_kwargs:
    extract_files:
      - 'features/features-multilinestring.dbf'
      - 'features/features-multilinestring.prj'
      - 'features/features-multilinestring.shp'
      - 'features/features-multilinestring.shx'
  ogr2ogr_kwargs:
    sql: "'SELECT *, name as label from \"features-multilinestring\"'"

- <<: *undersea_features
  id: undersea_features_multipolygon
  title: 'IHO-ICO GEBCO Features (multipolygon)'
  style: 'undersea_features_polygon'
  decompress_kwargs:
    extract_files:
      - 'features/features-multipolygon.dbf'
      - 'features/features-multipolygon.prj'
      - 'features/features-multipolygon.shp'
      - 'features/features-multipolygon.shx'
  ogr2ogr_kwargs:
    # Prevent polygon from being turned in to a linestring during clip operation
    nlt: 'POLYGON'
    sql: "'SELECT *, name as label from \"features-multipolygon\"'"

- &woa2018
  id: woa2018_0m_temperature_winter
  title: 'Temperature (Surface, Winter)'
  description: >-
    Seawater temperature at surface depth in °C.
  visible: False
  group_path: 'Oceanography/World Ocean Atlas (WOA) 2018'
  style: 'seawater_temperature'
  boundary: 'data'
  data_source: woa2018_temperature.seasonal_winter
  ingest_task: netcdf_raster
  file_type: '.tif'
  data_type: 'raster'
  overviews_kwargs:
    overview_levels: [2, 4, 8, 16]
    resampling_method: average
  translate_kwargs:
    extract_dataset: 't_an'
    bandList: [1]
  warp_kwargs:
    xRes: 25000
    yRes: 25000

- <<: *woa2018
  id: woa2018_0m_temperature_summer
  title: 'Temperature (Surface, Summer)'
  group_path: 'Oceanography/World Ocean Atlas (WOA) 2018'
  data_source: woa2018_temperature.seasonal_summer
  translate_kwargs:
    extract_dataset: 't_an'
    bandList: [1]

- <<: *woa2018
  id: woa2018_50m_temperature_winter
  title: 'Temperature (50m, Winter)'
  description: >-
    Seawater temperature at 50m depth in °C.
  group_path: 'Oceanography/World Ocean Atlas (WOA) 2018'
  data_source: woa2018_temperature.seasonal_winter
  translate_kwargs:
    extract_dataset: 't_an'
    bandList: [11]

- <<: *woa2018
  id: woa2018_50m_temperature_summer
  title: 'Temperature (50m, Summer)'
  description: >-
    Seawater temperature at 50m depth in °C.
  group_path: 'Oceanography/World Ocean Atlas (WOA) 2018'
  data_source: woa2018_temperature.seasonal_summer
  translate_kwargs:
    extract_dataset: 't_an'
    bandList: [11]

- <<: *woa2018
  id: woa2018_200m_temperature_winter
  title: 'Temperature (200m, Winter)'
  description: >-
    Seawater temperature at 200m depth in °C.
  group_path: 'Oceanography/World Ocean Atlas (WOA) 2018'
  data_source: woa2018_temperature.seasonal_winter
  translate_kwargs:
    extract_dataset: 't_an'
    bandList: [25]

- <<: *woa2018
  id: woa2018_200m_temperature_summer
  title: 'Temperature (200m, Summer)'
  description: >-
    Seawater temperature at 200m depth in °C.
  group_path: 'Oceanography/World Ocean Atlas (WOA) 2018'
  data_source: woa2018_temperature.seasonal_summer
  translate_kwargs:
    extract_dataset: 't_an'
    bandList: [25]

- <<: *woa2018
  id: woa2018_500m_temperature_winter
  title: 'Temperature (500m, Winter)'
  description: >-
    Seawater temperature at 500m depth in °C.
  group_path: 'Oceanography/World Ocean Atlas (WOA) 2018'
  data_source: woa2018_temperature.seasonal_winter
  translate_kwargs:
    extract_dataset: 't_an'
    bandList: [37]

- <<: *woa2018
  id: woa2018_500m_temperature_summer
  title: 'Temperature (500m, Summer)'
  description: >-
    Seawater temperature at 500m depth in °C.
  group_path: 'Oceanography/World Ocean Atlas (WOA) 2018'
  data_source: woa2018_temperature.seasonal_summer
  translate_kwargs:
    extract_dataset: 't_an'
    bandList: [37]


- id: bathymetric_chart
  title: 'IBCAO Bathymetric Chart of the Arctic Ocean (500m)'
  description: >-
      Surface (bedrock or icesheet) elevation in meters.  Elevations can be
      assumed to be relative to Mean Sea Level. However, in some shallow water
      areas, the grids include data from sources having a vertical datum other
      than mean sea level.
  visible: False
  group_path: 'Oceanography'
  style: 'ibcao_bathymetry'
  boundary: 'background'
  data_source: bathymetric_chart.only
  ingest_task: netcdf_raster
  file_type: '.tif'
  data_type: 'raster'
  translate_kwargs:
    extract_dataset: 'z'
  overviews_kwargs:
    overview_levels: [2, 4, 8, 16]
    resampling_method: average
  warp_kwargs:
    srcSRS: '+proj=stere +lat_0=90 +lat_ts=75 +datum=WGS84'
    dstNodata: -9999
    xRes: 500
    yRes: 500


##################
# Sea ice #
##################

# age of sea ice minimum/maximum rasters:
- &seaice_minimum_age
  id: seaice_minimum_age_2010
  title: 'NSIDC Sea Ice Age September 17-24 2010'
  description: >-
      Age of sea ice. A value of N indicates ice aged N-1 to N years. A value of
      20 represents land; 21 represents ocean cells where ice age was not
      calculated. Week of minimum extent chosen based on NSDIC's Sea Ice Index
      5-day average.
  visible: False
  # TODO: "September" is not correct, this is weekly data.
  group_path: 'Sea ice/NSIDC Ice Age (12.5 km)/September (min extent)'
  style: 'sea_ice_age'
  boundary: 'background'
  data_source: seaice_age.2010
  ingest_task: 'sea_ice_age'
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2010-09-17
    bandList: [38]
  file_type: '.tif'
  data_type: 'raster'
  gdal_edit_kwargs:
    a_ullr: "-4518421 4518421 4506579 -4506579"

- <<: *seaice_minimum_age
  id: seaice_minimum_age_2011
  title: 'NSIDC Sea Ice Age September 10-17 2011'
  data_source: seaice_age.2011
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2011-09-10
    bandList: [37]

- <<: *seaice_minimum_age
  id: seaice_minimum_age_2012
  title: 'NSIDC Sea Ice Age September 16-23 2012'
  data_source: seaice_age.2012
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2012-09-16
    bandList: [38]

- <<: *seaice_minimum_age
  id: seaice_minimum_age_2013
  title: 'NSIDC Sea Ice Age September 10-17 2013'
  data_source: seaice_age.2013
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2013-09-10
    bandList: [37]

- <<: *seaice_minimum_age
  id: seaice_minimum_age_2014
  title: 'NSIDC Sea Ice Age September 17-24 2014'
  data_source: seaice_age.2014
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2014-09-17
    bandList: [38]

- <<: *seaice_minimum_age
  id: seaice_minimum_age_2015
  title: 'NSIDC Sea Ice Age September 3-10 2015'
  data_source: seaice_age.2015
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2015-09-03
    bandList: [36]

- <<: *seaice_minimum_age
  id: seaice_minimum_age_2016
  title: 'NSIDC Sea Ice Age September 9-16 2016'
  data_source: seaice_age.2016
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2016-09-09
    bandList: [37]

- <<: *seaice_minimum_age
  id: seaice_minimum_age_2017
  title: 'NSIDC Sea Ice Age September 10-17 2017'
  data_source: seaice_age.2017
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2017-09-10
    bandList: [37]

- <<: *seaice_minimum_age
  id: seaice_minimum_age_2018
  title: 'NSIDC Sea Ice Age September 17-24 2018'
  data_source: seaice_age.2018
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2018-09-17
    bandList: [38]

- <<: *seaice_minimum_age
  id: seaice_minimum_age_2019
  title: 'NSIDC Sea Ice Age September 17-24 2019'
  data_source: seaice_age.2019
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2019-09-17
    bandList: [38]

- &seaice_maximum_age
  id: seaice_maximum_age_2010
  title: 'NSIDC Sea Ice Age March 26-April 2 2010'
  description: >-
      Age of sea ice. A value of N indicates ice aged N-1 to N years. A value of
      20 represents land; 21 represents ocean cells where ice age was not
      calculated. Week of maximum extent chosen based on NSDIC's Sea Ice Index
      5-day average.
  visible: False
  group_path: 'Sea ice/NSIDC Ice Age (12.5 km)/Feb or March (max extent)'
  style: 'sea_ice_age'
  boundary: 'background'
  data_source: seaice_age.2010
  ingest_task: sea_ice_age
  file_type: '.tif'
  data_type: 'raster'
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2010-03-26
    bandList: [13]
  gdal_edit_kwargs:
    a_ullr: "-4518421 4518421 4506579 -4506579"

- <<: *seaice_maximum_age
  id: seaice_maximum_age_2011
  title: 'NSIDC Sea Ice Age March 5-12 2011'
  data_source: seaice_age.2011
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2011-03-05
    bandList: [10]

- <<: *seaice_maximum_age
  id: seaice_maximum_age_2012
  title: 'NSIDC Sea Ice Age March 18-25 2012'
  data_source: seaice_age.2012
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2012-03-18
    bandList: [12]

- <<: *seaice_maximum_age
  id: seaice_maximum_age_2013
  title: 'NSIDC Sea Ice Age March 12-19 2013'
  data_source: seaice_age.2013
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2013-03-12
    bandList: [11]

- <<: *seaice_maximum_age
  id: seaice_maximum_age_2014
  title: 'NSIDC Sea Ice Age March 19-26 2014'
  data_source: seaice_age.2014
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2014-03-19
    bandList: [12]

- <<: *seaice_maximum_age
  id: seaice_maximum_age_2015
  title: 'NSIDC Sea Ice Age February 12-19 2015'
  data_source: seaice_age.2015
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2015-02-12
    bandList: [7]

- <<: *seaice_maximum_age
  id: seaice_maximum_age_2016
  title: 'NSIDC Sea Ice Age March 18-25 2016'
  data_source: seaice_age.2016
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2016-03-18
    bandList: [12]

- <<: *seaice_maximum_age
  id: seaice_maximum_age_2017
  title: 'NSIDC Sea Ice Age March 5-12 2017'
  data_source: seaice_age.2017
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2017-03-05
    bandList: [10]

- <<: *seaice_maximum_age
  id: seaice_maximum_age_2018
  title: 'NSIDC Sea Ice Age March 11-18 2018'
  data_source: seaice_age.2018
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2018-03-12
    bandList: [11]

- <<: *seaice_maximum_age
  id: seaice_maximum_age_2019
  title: 'NSIDC Sea Ice Age March 12-19 2019'
  data_source: seaice_age.2019
  translate_kwargs:
    extract_dataset: 'age_of_sea_ice'
    # Week of 2019-03-12
    bandList: [11]

# sea ice median extent polylines:
# TODO: Normalize median and min/max layer titles. Month first or dataset first, pick one!
- &seaice_median_extent
  id: seaice_median_extent_01
  title: 'January Median Sea Ice Extent'
  description: 'Median extent from the period 1981 through 2010.'
  visible: False
  group_path: 'Sea ice/Median ice extent'
  boundary: 'background'
  data_source: seaice_index.median_extent_line_01
  ingest_task: 'zipped_vector'
  file_type: '.gpkg'
  data_type: 'vector'

- <<: *seaice_median_extent
  id: seaice_median_extent_02
  title: 'February Median Sea Ice Extent'
  data_source: seaice_index.median_extent_line_02


- <<: *seaice_median_extent
  id: seaice_median_extent_03
  title: 'March Median Sea Ice Extent'
  data_source: seaice_index.median_extent_line_03


- <<: *seaice_median_extent
  id: seaice_median_extent_04
  title: 'April Median Sea Ice Extent'
  data_source: seaice_index.median_extent_line_04


- <<: *seaice_median_extent
  id: seaice_median_extent_05
  title: 'May Median Sea Ice Extent'
  data_source: seaice_index.median_extent_line_05


- <<: *seaice_median_extent
  id: seaice_median_extent_06
  title: 'June Median Sea Ice Extent'
  data_source: seaice_index.median_extent_line_06


- <<: *seaice_median_extent
  id: seaice_median_extent_07
  title: 'July Median Sea Ice Extent'
  data_source: seaice_index.median_extent_line_07


- <<: *seaice_median_extent
  id: seaice_median_extent_08
  title: 'August Median Sea Ice Extent'
  data_source: seaice_index.median_extent_line_08


- <<: *seaice_median_extent
  id: seaice_median_extent_09
  title: 'September Median Sea Ice Extent'
  data_source: seaice_index.median_extent_line_09


- <<: *seaice_median_extent
  id: seaice_median_extent_10
  title: 'October Median Sea Ice Extent'
  data_source: seaice_index.median_extent_line_10


- <<: *seaice_median_extent
  id: seaice_median_extent_11
  title: 'November Median Sea Ice Extent'
  data_source: seaice_index.median_extent_line_11


- <<: *seaice_median_extent
  id: seaice_median_extent_12
  title: 'December Median Sea Ice Extent'
  data_source: seaice_index.median_extent_line_12


# sea ice min extent monthly concentration:
- &seaice_minimum_concentration
  id: minimum_concentration_2010
  title: 'NSIDC Sea Ice Concentration September 2010'
  description: >-
      Concentration of sea ice as a percentage (e.g., 99.9 = 99.9%). Values
      under 15% are considered to be open water.
  visible: False
  group_path: 'Sea ice/NSIDC Concentration (25 km)/September (min extent)'
  style: 'sea_ice_concentration'
  boundary: 'background'
  data_source: seaice_index.minimum_concentration_2010
  ingest_task: 'raster_calc'
  file_type: '.tif'
  data_type: 'raster'
  gdal_calc_kwargs:
    calc: "'A / 10.0'"

- <<: *seaice_minimum_concentration
  id: minimum_concentration_2011
  title: 'NSIDC Sea Ice Concentration September 2011'
  data_source: seaice_index.minimum_concentration_2011


- <<: *seaice_minimum_concentration
  id: minimum_concentration_2012
  title: 'NSIDC Sea Ice Concentration September 2012'
  data_source: seaice_index.minimum_concentration_2012


- <<: *seaice_minimum_concentration
  id: minimum_concentration_2013
  title: 'NSIDC Sea Ice Concentration September 2013'
  data_source: seaice_index.minimum_concentration_2013


- <<: *seaice_minimum_concentration
  id: minimum_concentration_2014
  title: 'NSIDC Sea Ice Concentration September 2014'
  data_source: seaice_index.minimum_concentration_2014


- <<: *seaice_minimum_concentration
  id: minimum_concentration_2015
  title: 'NSIDC Sea Ice Concentration September 2015'
  data_source: seaice_index.minimum_concentration_2015


- <<: *seaice_minimum_concentration
  id: minimum_concentration_2016
  title: 'NSIDC Sea Ice Concentration September 2016'
  data_source: seaice_index.minimum_concentration_2016


- <<: *seaice_minimum_concentration
  id: minimum_concentration_2017
  title: 'NSIDC Sea Ice Concentration September 2017'
  data_source: seaice_index.minimum_concentration_2017


- <<: *seaice_minimum_concentration
  id: minimum_concentration_2018
  title: 'NSIDC Sea Ice Concentration September 2018'
  data_source: seaice_index.minimum_concentration_2018


- <<: *seaice_minimum_concentration
  id: minimum_concentration_2019
  title: 'NSIDC Sea Ice Concentration September 2019'
  data_source: seaice_index.minimum_concentration_2019

- <<: *seaice_minimum_concentration
  id: minimum_concentration_2020
  title: 'NSIDC Sea Ice Concentration September 2020'
  data_source: seaice_index.minimum_concentration_2020

# sea ice max extent monthly concentrations:
- &seaice_maximum_concentration
  id: maximum_concentration_2010
  title: 'NSIDC Sea Ice Concentration March 2010'
  description: >-
     Concentration of sea ice as a percentage (e.g., 99.9 = 99.9%). Values under
     15% are considered to be open water.
  visible: False
  group_path: 'Sea ice/NSIDC Concentration (25 km)/Feb or March (max extent)'
  style: 'sea_ice_concentration'
  boundary: 'background'
  data_source: seaice_index.maximum_concentration_2010
  ingest_task: 'raster_calc'
  file_type: '.tif'
  data_type: 'raster'
  gdal_calc_kwargs:
    calc: "'A / 10.0'"


- <<: *seaice_maximum_concentration
  id: maximum_concentration_2011
  title: 'NSIDC Sea Ice Concentration March 2011'
  data_source: seaice_index.maximum_concentration_2011


- <<: *seaice_maximum_concentration
  id: maximum_concentration_2012
  title: 'NSIDC Sea Ice Concentration March 2012'
  data_source: seaice_index.maximum_concentration_2012


- <<: *seaice_maximum_concentration
  id: maximum_concentration_2013
  title: 'NSIDC Sea Ice Concentration March 2013'
  data_source: seaice_index.maximum_concentration_2013


- <<: *seaice_maximum_concentration
  id: maximum_concentration_2014
  title: 'NSIDC Sea Ice Concentration March 2014'
  data_source: seaice_index.maximum_concentration_2014


- <<: *seaice_maximum_concentration
  id: maximum_concentration_2015
  title: 'NSIDC Sea Ice Concentration February 2015'
  data_source: seaice_index.maximum_concentration_2015


- <<: *seaice_maximum_concentration
  id: maximum_concentration_2016
  title: 'NSIDC Sea Ice Concentration March 2016'
  data_source: seaice_index.maximum_concentration_2016


- <<: *seaice_maximum_concentration
  id: maximum_concentration_2017
  title: 'NSIDC Sea Ice Concentration March 2017'
  data_source: seaice_index.maximum_concentration_2017


- <<: *seaice_maximum_concentration
  id: maximum_concentration_2018
  title: 'NSIDC Sea Ice Concentration March 2018'
  data_source: seaice_index.maximum_concentration_2018


- <<: *seaice_maximum_concentration
  id: maximum_concentration_2019
  title: 'NSIDC Sea Ice Concentration March 2019'
  data_source: seaice_index.maximum_concentration_2019

- <<: *seaice_maximum_concentration
  id: maximum_concentration_2020
  title: 'NSIDC Sea Ice Concentration March 2020'
  data_source: seaice_index.maximum_concentration_2019


##################
# Terrain models #
##################

- &bedmachine
  id: bedmachine_thickness
  title: 'Ice Thickness (500m)'
  description: >-
    Ice thickness in meters. Source is Mass conservation (Mathieu Morlighem)
  group_path: 'Terrain models/BedMachine'
  visible: False
  style: 'bedmachine_thickness'
  boundary: 'data'
  data_source: bedmachine.only
  ingest_task: bedmachine
  file_type: '.tif'
  data_type: 'raster'
  translate_kwargs:
    extract_dataset: 'thickness'
  warp_kwargs:
    xRes: 500
    yRes: 500

- <<: *bedmachine
  id: bedmachine_surface
  title: 'Surface Elevation (500m)'
  description: >-
      Surface elevation in meters. Source is gimpdem v2.1
      (http://bprc.osu.edu/GDG/gimpdem.php)
  style: 'bedmachine_surface'
  translate_kwargs:
    extract_dataset: 'surface'

- <<: *bedmachine
  id: bedmachine_bed
  title: 'Bedrock Elevation (500m)'
  description: >-
    Bedrock elevation in meters. Source is mass conservation (Mathieu
    Morlighem).
  style: 'bedmachine_bed'
  translate_kwargs:
    extract_dataset: 'bed'

- <<: *bedmachine
  id: bedmachine_errbed
  title: 'Bedrock Elevation/Ice Thickness Error (500m)'
  description: >-
    TBD
  style: 'bedmachine_errbed'
  translate_kwargs:
    extract_dataset: 'errbed'

- id: arctic_dem
  title: 'Arctic DEM (100m)'
  description: 'Surface elevation in meters.'
  visible: False
  group_path: 'Terrain models'
  style: 'arctic_dem'
  boundary: 'data'
  data_source: arctic_dem.100m
  ingest_task: 'arctic_dem'
  file_type: '.tif'
  data_type: 'raster'
  overviews_kwargs:
    overview_levels: [2, 4, 8, 16]
    resampling_method: average
  gdal_calc_kwargs:
    calc: "'A * 100.0'"
    creation-option: "COMPRESS=DEFLATE"
    type: "Int32"
  gdal_edit_kwargs:
    scale: 0.01

- id: dms_gtk_topo
  title: 'Danish Map Supply Topographic Map (1:500,000)'
  visible: False
  group_path: 'Terrain models'
  style: null
  data_source: danish_agency_for_data_supply_and_efficiency_gtk_topop_map.only
  ingest_task: 'dms_gtk_topo'
  file_type: '.tif'
  data_type: 'raster'
  project_crs: 'EPSG:32624'

######################
# Future Projections #
######################

# TODO: better id, title, description for these layers
- &future_ice_sheet_coverage
  id: future_ice_sheet_coverage_rcp_26
  title: 'Future (year 3007) ice sheet coverage - RCP 2.6 scenario (1.8km)'
  description: >-
      Fraction of a grid cell covered by ice (grounded or floating) in the year
      3007. Values less than or equal to 16% are masked.
  visible: False
  group_path: 'Future projections'
  style: 'future_ice_sheet_coverage'
  boundary: 'data'
  data_source: future_icesheet_coverage.rcp_26
  ingest_task: netcdf_raster
  file_type: '.tif'
  data_type: 'raster'
  translate_kwargs:
    extract_dataset: 'sftgif'
    noData: 0
  overviews_kwargs:
    overview_levels: [2, 4, 8, 16]
    resampling_method: average

- <<: *future_ice_sheet_coverage
  id: future_ice_sheet_coverage_rcp_45
  title: 'Future (year 3007) ice sheet coverage - RCP 4.5 scenario (1.8km)'
  data_source: future_icesheet_coverage.rcp_45

- <<: *future_ice_sheet_coverage
  id: future_ice_sheet_coverage_rcp_85
  title: 'Future (year 3007) ice sheet coverage - RCP 8.5 scenario (1.8km)'
  data_source: future_icesheet_coverage.rcp_85


######################
# ONLINE-ONLY layers #
######################

- id: image_mosaic_2019
  title: 'Greenland Image Mosaic 2019 (Online Only)'
  description: 'Sentinel-2 multispectral satellite imagery from 2019.'
  visible: False
  group_path: 'Internet-required data'
  style: 'transparent_rgb'
  boundary: 'data'
  data_source: image_mosaic.2019
  ingest_task: None
  file_type: '.tif'
  data_type: 'raster'

# NOTE: This layer sometimes causes the CreateQgisProjectFile step to hang for
# an hour or more on `qgc.QgsRasterLayer` call. Remove it?
- id: image_mosaic_2015
  title: 'Greenland Image Mosaic 2015 (Online Only)'
  description: 'Sentinel-2 multispectral satellite imagery from 2015.'
  visible: False
  group_path: 'Internet-required data'
  boundary: 'data'
  data_source: image_mosaic.2015
  ingest_task: None
  file_type: '.tif'
  data_type: 'raster'


############
# BASEMAPS #
############

- id: bas_greenland_coastlines
  title: 'Greenland Coastlines'
  description: >-
    This layer should be used as the 'reference coastline' for Greenland.
  visible: False
  group_path: 'Basemaps'
  style: greenland_coastline
  boundary: 'background'
  data_source: bas_coastlines.only
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'

- id: coastlines
  title: 'Coastlines'
  description: >-
    Note that the 'Greenland Coastlines' layer is preferred for Greenland.
  visible: False
  group_path: 'Basemaps'
  style: 'coastline-IHOECDIS'
  boundary: 'background'
  data_source: coastlines.only
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'

- id: ne_states_provinces
  title: 'Administrative Divisions'
  visible: False
  group_path: 'Basemaps'
  style: 'administrative_divisions'
  boundary: 'data'
  data_source: ne_states_provinces.only
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'


- id: ne_countries
  title: 'Countries'
  visible: False
  group_path: 'Basemaps'
  style: 'countries'
  boundary: 'background'
  data_source: ne_countries.only
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'


# NOTE: We attempted to add the corresponding NE Ocean layer, but it included
# holes for small islands which are not present on the land layer, and that was
# gross so we removed the ocean layer.
- id: land
  title: 'Land'
  visible: False
  group_path: 'Basemaps'
  style: 'land'
  boundary: 'background'
  data_source: land_shape.only
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'


- id: ocean
  title: 'Ocean'
  visible: False
  group_path: 'Basemaps'
  style: 'ocean'
  boundary: 'background'
  data_source: ocean_shape.only
  ingest_task: zipped_vector
  file_type: '.gpkg'
  data_type: 'vector'


- id: background
  title: 'Background (500m)'
  visible: True
  group_path: 'Basemaps'
  boundary: 'background'
  data_source: background_hd.only
  ingest_task: background_image
  file_type: '.tif'
  data_type: 'raster'
  # NOTE: Without passing warp_kwargs, we get a black image.
  # TODO: Which of these args are necessary to avoid that?
  warp_kwargs:
    # We measured the size of the pixels in the input datasource (WGS84) at the
    # North and South ends of Greenland and found a range of roughly 250m to
    # 900m. 500m is somewhere in the middle, so some of greenland will be
    # downsampled, and some will be oversampled.
    xRes: 500
    yRes: 500
    dstNodata: 0
    # Attempt to avoid pole hole and nodata line where east and west edges of
    # the original image meet after polar wrapping. TODO: This doesn't actually
    # get rid of the line.
    warpOptions: ['SOURCE_EXTRA=100', 'SAMPLE_GRID=YES']
